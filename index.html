<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SISTEMA ELITE SINOP V26 - MONSTRO</title>
    <style>
        :root { --bg: #05070a; --card: #111827; --primary: #2563eb; --good: #10b981; --bad: #ef4444; --gold: #f59e0b; --border: #374151; }
        * { box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; }
        body { background: var(--bg); color: #fff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        header { background: #000; padding: 12px; border-bottom: 3px solid var(--primary); display: flex; justify-content: space-between; align-items: center; }
        .idx-tag { background: #1f2937; padding: 6px 10px; border-radius: 6px; font-size: 11px; border: 1px solid var(--gold); color: var(--gold); font-weight: bold; margin-right: 5px; white-space: nowrap; }
        main { flex: 1; padding: 15px; overflow-y: auto; padding-bottom: 180px; }
        .busca-master { width: 100%; padding: 18px; border-radius: 12px; border: 3px solid var(--primary); background: #000; color: #fff; font-size: 18px; font-weight: bold; margin-bottom: 20px; box-shadow: 0 0 15px rgba(37, 99, 235, 0.3); }
        .card { background: var(--card); border-radius: 12px; padding: 16px; border: 2px solid var(--border); margin-bottom: 15px; position: relative; }
        .card-prod { border-left: 8px solid var(--primary); }
        .card-obj { border-left: 8px solid var(--gold); background: linear-gradient(145deg, #111827 0%, #0f172a 100%); }
        .btn { padding: 12px; border: none; border-radius: 8px; font-weight: 900; cursor: pointer; text-transform: uppercase; font-size: 11px; text-align: center; color: #ffffff !important; transition: 0.2s; }
        .btn-blue { background: #2563eb; }
        .btn-green { background: #059669; }
        .btn-red { background: #dc2626; }
        .btn-gold { background: #f59e0b; color: #000 !important; }
        .label-f { display: block; font-size: 10px; color: var(--gold); font-weight: bold; margin-bottom: 4px; text-transform: uppercase; }
        input, textarea, select { width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #4b5563; background: #000; color: #fff; margin-bottom: 10px; font-size: 14px; }
        .modal { position: fixed; inset: 0; background: #000; z-index: 2000; display: none; padding: 20px; overflow-y: auto; }
        .footer { position: fixed; bottom: 0; width: 100%; background: #000; padding: 15px; border-top: 3px solid var(--primary); display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; z-index: 1000; }
        .calc-box { background: rgba(239, 68, 68, 0.1); border: 1px solid var(--bad); padding: 10px; border-radius: 8px; margin-top: 10px; font-size: 12px; color: #fca5a5; }
        .admin-section { margin-bottom: 30px; border-bottom: 1px solid var(--border); padding-bottom: 20px; }
    </style>
</head>
<body>

<div id="login" style="position:fixed; inset:0; background:#000; z-index:5000; display:flex; align-items:center; justify-content:center; padding:20px;">
    <div class="card" style="width:100%; max-width:350px; text-align:center;">
        <h2 style="color:var(--primary); margin-bottom:20px;">ELITE SINOP V26</h2>
        <input type="text" id="uIn" placeholder="Corretor">
        <input type="password" id="pIn" placeholder="Senha">
        <button onclick="login()" class="btn btn-blue" style="width:100%; padding:15px;">ACESSAR PAINEL</button>
    </div>
</div>

<header>
    <div style="display:flex; overflow-x:auto; padding-bottom: 5px;" id="indices"></div>
    <button onclick="abrir('adm')" class="btn btn-gold" id="btnAdm" style="display:none; margin-left:10px;">GESTOR ‚öôÔ∏è</button>
</header>

<main>
    <input type="text" id="busca" class="busca-master" placeholder="Digite a Obje√ß√£o ou Loteamento..." oninput="pesquisar(this.value)">
    <div id="feed"></div>
</main>

<div id="adm" class="modal">
    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
        <h2>‚öôÔ∏è CENTRAL DE CONTROLE</h2>
        <button onclick="fechar('adm')" class="btn btn-red">SAIR</button>
    </div>
    <div class="admin-section">
        <h3 style="color:var(--primary)">üì¶ PRODUTOS</h3>
        <input type="hidden" id="idxP" value="-1">
        <input type="text" id="p1" placeholder="Nome do Loteamento">
        <input type="text" id="p2" placeholder="Regi√£o">
        <input type="text" id="pk" placeholder="Gatilhos (separados por v√≠rgula)">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
            <input type="number" id="p3" placeholder="Pre√ßo Total">
            <input type="number" id="p4" placeholder="√Årea M¬≤">
            <input type="text" id="p5" placeholder="Entrada">
            <input type="text" id="p6" placeholder="Parcela">
        </div>
        <button onclick="salvarP()" class="btn btn-green" style="width:100%">SALVAR PRODUTO</button>
        <div id="listP" style="max-height:150px; overflow-y:auto; margin-top:10px;"></div>
    </div>
    <div class="admin-section">
        <h3 style="color:var(--gold)">üõ°Ô∏è OBJE√á√ïES</h3>
        <input type="hidden" id="idxO" value="-1">
        <input type="text" id="okey" placeholder="Gatilhos">
        <input type="text" id="otit" placeholder="T√≠tulo">
        <textarea id="omsg" placeholder="Script" rows="5"></textarea>
        <button onclick="salvarO()" class="btn btn-green" style="width:100%">SALVAR OBJE√á√ÉO</button>
        <div id="listO" style="max-height:150px; overflow-y:auto; margin-top:10px;"></div>
    </div>
    <button onclick="exportar()" class="btn btn-blue" style="width:100%; padding:20px; margin-top:10px;">üíæ SALVAR ALTERA√á√ïES (GERAR ARQUIVO)</button>
</div>

<div id="propModal" class="modal">
    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
        <h2>üìù FORMALIZAR PROPOSTA</h2>
        <button onclick="fechar('propModal')" class="btn btn-red">X</button>
    </div>
    <input type="text" id="cNome" placeholder="Nome do Cliente">
    <input type="text" id="cLote" placeholder="Quadra e Lote">
    <div id="propPreview" style="background:#000; padding:15px; border-radius:8px; font-size:13px; border:1px solid var(--good); white-space: pre-wrap;"></div>
    <button onclick="copiarProp()" class="btn btn-green" style="width:100%; margin-top:15px; padding:15px;">COPIAR PARA WHATSAPP</button>
</div>

<div class="footer">
    <button class="btn btn-blue" onclick="copiarDocs()">üìÇ DOCS</button>
    <button class="btn btn-green" onclick="abrirProposta()">üìù PROP</button>
    <button class="btn btn-red" onclick="limpar()">üßπ LIMP</button>
    <button id="btnVoz" class="btn btn-blue" style="grid-column: span 3; background: #3b82f6;" onclick="falar()">üéôÔ∏è ESCUTA ATIVA</button>
</div>

<script>
    let db = {
    "prods": [
        { "nome": "CEDROS JARDINS", "reg": "Posto B√∫falo", "preco": "145000", "area": "200", "ent": "SEM ENTRADA", "parc": "753,00", "keys": "spc, cedros, bufalo" },
        { "nome": "MORADA BRASIL", "reg": "Andr√© Maggi", "preco": "175000", "area": "300", "ent": "R$ 5.000", "parc": "890,00", "keys": "maggi, morada, elite" }
    ],
    "objs": [
        {
            "k": "caro, preco, valor, abaixar, desconto",
            "t": "üí∞ PRE√áO / VALOR (Quebra de 3 N√≠veis)",
            "m": "1. ISOLAMENTO: 'Entendo, Jo√£o. Mas o pre√ßo √© o √∫nico motivo ou o senhor n√£o viu valor suficiente no retorno?'\n2. CUSTO DO ATRASO: 'Sinop valoriza 18% ao ano. Se esperar 6 meses para o pre√ßo 'baixar', o senhor vai pagar R$ 15 mil a mais.'\n3. L√ìGICA: 'Caro √© pagar aluguel. Esse lote √© uma poupan√ßa for√ßada que te paga juros acima de qualquer banco.'"
        },
        {
            "k": "esposa, marido, conjuge, fam√≠lia, casa, falar com ela, falar com ele",
            "t": "üíé DECIS√ÉO EM FAM√çLIA (T√°tica Voss)",
            "m": "1. EMPATIA: '√â justo voc√™ querer falar com ela. Normalmente, ela costuma apoiar seus investimentos para o futuro da fam√≠lia?'\n2. RESERVA DE SEGURAN√áA: 'Vamos fazer a reserva agora para garantir a unidade. Se ela disser n√£o, eu cancelo e devolvo a reserva. O risco √© ela dizer SIM e voc√™ n√£o ter mais o lote.'\n3. LIDERAN√áA: 'L√≠deres trazem oportunidades prontas. Leve a solu√ß√£o, n√£o o problema para ela.'"
        },
        {
            "k": "pensar, analisar, aviso, amanha, depois",
            "t": "‚è≥ PROCRASTINA√á√ÉO (Linha Reta)",
            "m": "1. VERDADE: 'Jo√£o, 'vou pensar' geralmente significa 'n√£o vou comprar'. O que exatamente te impede de garantir seu patrim√¥nio agora?'\n2. ESCASSEZ: 'Enquanto pensamos, Sinop cresce 3 lotes por hora. Se eu te ligar amanh√£ e este lote estiver vendido, como voc√™ se sentiria?'\n3. A√á√ÉO: 'As melhores decis√µes da sua vida foram tomadas com base em dados ou medo? Os dados mostram que aqui √© o melhor lucro.'"
        },
        {
            "k": "longe, mato, isolado, acesso, fim do mundo",
            "t": "üöÄ LOCALIZA√á√ÉO / LONGE",
            "m": "1. FUTURIZA√á√ÉO: 'Quem comprou o centro h√° 20 anos ouviu o mesmo. Onde hoje √© mato, amanh√£ √© o maior m¬≤ comercial de Sinop.'\n2. LUCRO: 'O lucro est√° no caminho do crescimento, n√£o onde j√° est√° consolidado e caro.'\n3. VETOR: 'Sinop cresce para c√°. O senhor quer ser o vizinho do progresso ou pagar o pre√ßo de quem chega por √∫ltimo?'"
        },
        {
            "k": "agro, gado, boi, soja, milho, fazenda",
            "t": "üöú LOTE VS. AGRO (Investidor)",
            "m": "1. LIQUIDEZ: 'O lote √© sua reserva de liquidez. Diferente da safra, a terra n√£o morre e n√£o depende de chuva.'\n2. DIVERSIFICA√á√ÉO: 'N√£o coloque todos os ovos na soja. O mercado imobili√°rio urbano de Sinop √© o hedge perfeito para o produtor.'\n3. SEGURAN√áA: 'A soja sustenta a cidade, mas a cidade √© que valoriza o m¬≤ em 1000% no longo prazo.'"
        },
        {
            "k": "spc, serasa, nome, restri√ß√£o, credito",
            "t": "üö´ NOME SUJO / RESTRI√á√ÉO",
            "m": "1. OPORTUNIDADE: 'O lote √© a sua pr√≥pria garantia. √â a forma mais r√°pida de voc√™ reconstruir seu patrim√¥nio e score.'\n2. FACILITA√á√ÉO: 'A loteadora foca na sua capacidade de pagar a parcela hoje, n√£o no que aconteceu no seu passado.'\n3. SOLU√á√ÉO: 'Assine o contrato e use a valoriza√ß√£o do terreno para quitar suas outras d√≠vidas em breve.'"
        }
    ],
    "users": [
        {"u": "admin", "p": "123"},
        {"u": "elite", "p": "sinop2026"}
    ],
    "lastProd": null
};

    function login() {
        const u = document.getElementById('uIn').value;
        const p = document.getElementById('pIn').value;
        const valid = db.users.find(user => user.u === u && user.p === p);
        if(valid) {
            document.getElementById('login').style.display='none';
            document.getElementById('btnAdm').style.display='block';
            renderIndices(); atualizarListas();
        } else alert("Acesso Negado!");
    }

    function renderIndices() {
        document.getElementById('indices').innerHTML = `<div class="idx-tag">VALORIZA√á√ÉO: 18% A.A.</div><div class="idx-tag">SINOP: CAPITAL DO AGRO</div>`;
    }

    function pesquisar(v) {
        // SMART SEARCH: Limpa interroga√ß√µes e foca em palavras-chave
        const t = v.toLowerCase().replace('?', '').trim(); 
        const f = document.getElementById('feed'); f.innerHTML = ""; 
        if(t.length < 2) return;

        // Filtro de Produtos
        db.prods.forEach(p => {
            if(p.keys.includes(t) || p.nome.toLowerCase().includes(t)) {
                db.lastProd = p;
                const m2 = p.preco / p.area;
                f.innerHTML += `<div class="card card-prod"><h3>üìç ${p.nome}</h3><p style="font-size:11px; opacity:0.8">${p.reg}</p><div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px; background:#000; padding:10px; border-radius:8px;"><div><span class="label-f">M¬≤</span><b>R$ ${m2.toFixed(2)}</b></div><div><span class="label-f">PARCELA</span><b>R$ ${p.parc}</b></div></div></div>`;
            }
        });

        // Filtro de Obje√ß√µes (Busca em contexto)
        db.objs.forEach(o => {
            const gatilhos = o.k.split(',').map(s => s.trim());
            // Se qualquer palavra da busca do usu√°rio estiver nos gatilhos da obje√ß√£o
            if(gatilhos.some(g => t.includes(g))) { 
                f.innerHTML += `<div class="card card-obj"><strong>${o.t}</strong><div style="color:#93c5fd; margin-top:10px; font-size:14px; line-height:1.6; white-space: pre-wrap;">${o.m}</div></div>`; 
            }
        });
    }

    // Fun√ß√µes de CRUD e Utilidades (Mantidas conforme original para estabilidade)
    function salvarP() {
        const i = parseInt(document.getElementById('idxP').value);
        const p = { nome: document.getElementById('p1').value, reg: document.getElementById('p2').value, keys: document.getElementById('pk').value, preco: document.getElementById('p3').value, area: document.getElementById('p4').value, ent: document.getElementById('p5').value, parc: document.getElementById('p6').value };
        if(i === -1) db.prods.push(p); else db.prods[i] = p;
        limparCamposP(); atualizarListas(); alert("Salvo!");
    }
    function salvarO() {
        const i = parseInt(document.getElementById('idxO').value);
        const o = { k: document.getElementById('okey').value, t: document.getElementById('otit').value, m: document.getElementById('omsg').value };
        if(i === -1) db.objs.push(o); else db.objs[i] = o;
        atualizarListas(); alert("Obje√ß√£o Salva!");
    }
    function atualizarListas() {
        document.getElementById('listP').innerHTML = db.prods.map((x,i) => `<div style="display:flex; justify-content:space-between; padding:8px; background:#000; margin-top:5px; font-size:11px;"><span>${x.nome}</span><button onclick="editP(${i})">üìù</button></div>`).join('');
        document.getElementById('listO').innerHTML = db.objs.map((x,i) => `<div style="display:flex; justify-content:space-between; padding:8px; background:#000; margin-top:5px; font-size:11px;"><span>${x.t}</span><button onclick="editO(${i})">üìù</button></div>`).join('');
    }
    function exportar() { 
        let h = document.documentElement.outerHTML; 
        h = h.replace(/let db = \{[\s\S]*?\};/, `let db = ${JSON.stringify(db, null, 4)};`); 
        const b = new Blob(["<!DOCTYPE html>\n"+h], {type:"text/html"}); 
        const a = document.createElement("a"); a.href = URL.createObjectURL(b); a.download = "sistema_elite_sinop.html"; a.click(); 
    }
    function abrir(id) { document.getElementById(id).style.display='block'; }
    function fechar(id) { document.getElementById(id).style.display='none'; }
    function limpar() { document.getElementById('busca').value=''; pesquisar(''); }
    function falar() {
        const r = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        r.lang = 'pt-BR'; r.onresult = (e) => { 
            const t = e.results[0][0].transcript;
            document.getElementById('busca').value = t; 
            pesquisar(t); 
        }; r.start();
    }
    function copiarDocs() { navigator.clipboard.writeText("üìÇ *DOCS:* RG/CPF, Comp. Resid√™ncia, Renda e Estado Civil."); alert("Docs copiados!"); }
</script>
</body>
</html>
