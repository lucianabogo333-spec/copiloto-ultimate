<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SISTEMA ELITE SINOP V26</title>
    <style>
        :root { --bg: #05070a; --card: #111827; --primary: #2563eb; --good: #10b981; --bad: #ef4444; --gold: #f59e0b; --border: #374151; }
        * { box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; }
        body { background: var(--bg); color: #fff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        header { background: #000; padding: 12px; border-bottom: 3px solid var(--primary); display: flex; justify-content: space-between; align-items: center; }
        .idx-tag { background: #1f2937; padding: 6px 10px; border-radius: 6px; font-size: 11px; border: 1px solid var(--gold); color: var(--gold); font-weight: bold; margin-right: 5px; white-space: nowrap; }
        main { flex: 1; padding: 15px; overflow-y: auto; padding-bottom: 180px; }
        .busca-master { width: 100%; padding: 18px; border-radius: 12px; border: 3px solid var(--primary); background: #000; color: #fff; font-size: 18px; font-weight: bold; margin-bottom: 20px; box-shadow: 0 0 15px rgba(37, 99, 235, 0.3); }
        .card { background: var(--card); border-radius: 12px; padding: 16px; border: 2px solid var(--border); margin-bottom: 15px; position: relative; }
        .card-prod { border-left: 8px solid var(--primary); }
        .card-obj { border-left: 8px solid var(--gold); }
        .btn { padding: 12px; border: none; border-radius: 8px; font-weight: 900; cursor: pointer; text-transform: uppercase; font-size: 11px; text-align: center; color: #ffffff !important; transition: 0.2s; }
        .btn-blue { background: #2563eb; }
        .btn-green { background: #059669; }
        .btn-red { background: #dc2626; }
        .btn-gold { background: #f59e0b; color: #000 !important; }
        .label-f { display: block; font-size: 10px; color: var(--gold); font-weight: bold; margin-bottom: 4px; text-transform: uppercase; }
        input, textarea, select { width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #4b5563; background: #000; color: #fff; margin-bottom: 10px; font-size: 14px; }
        .modal { position: fixed; inset: 0; background: #000; z-index: 2000; display: none; padding: 20px; overflow-y: auto; }
        .footer { position: fixed; bottom: 0; width: 100%; background: #000; padding: 15px; border-top: 3px solid var(--primary); display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; z-index: 1000; }
        .calc-box { background: rgba(239, 68, 68, 0.1); border: 1px solid var(--bad); padding: 10px; border-radius: 8px; margin-top: 10px; font-size: 12px; color: #fca5a5; }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; background: rgba(0,0,0,0.4); padding: 10px; border-radius: 8px; }
        .admin-section { margin-bottom: 30px; border-bottom: 1px solid var(--border); padding-bottom: 20px; }
    </style>
</head>
<body>

<div id="login" style="position:fixed; inset:0; background:#000; z-index:5000; display:flex; align-items:center; justify-content:center; padding:20px;">
    <div class="card" style="width:100%; max-width:350px; text-align:center;">
        <h2 style="color:var(--primary); margin-bottom:20px;">ELITE SINOP V26</h2>
        <input type="text" id="uIn" placeholder="Corretor">
        <input type="password" id="pIn" placeholder="Senha">
        <button onclick="login()" class="btn btn-blue" style="width:100%; padding:15px;">ACESSAR PAINEL</button>
    </div>
</div>

<header>
    <div style="display:flex; overflow-x:auto; padding-bottom: 5px;" id="indices">
        <div class="idx-tag">SINCRONIZANDO 12 MESES...</div>
    </div>
    <button onclick="abrir('adm')" class="btn btn-gold" id="btnAdm" style="display:none; margin-left:10px;">GESTOR âš™ï¸</button>
</header>

<main>
    <input type="text" id="busca" class="busca-master" placeholder="Busque: SPC, MAGGI, AGRO, CARO..." oninput="pesquisar(this.value)">
    <div id="feed"></div>
</main>

<div id="adm" class="modal">
    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
        <h2>âš™ï¸ CENTRAL DE CONTROLE</h2>
        <button onclick="fechar('adm')" class="btn btn-red">SAIR</button>
    </div>
    
    <div class="admin-section">
        <h3 style="color:var(--primary)">ğŸ“¦ PRODUTOS</h3>
        <input type="hidden" id="idxP" value="-1">
        <input type="text" id="p1" placeholder="Nome do Loteamento">
        <input type="text" id="p2" placeholder="RegiÃ£o">
        <input type="text" id="pk" placeholder="Gatilhos (spc, agro, caro)">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
            <input type="number" id="p3" placeholder="PreÃ§o Total">
            <input type="number" id="p4" placeholder="Ãrea MÂ²">
            <input type="text" id="p5" placeholder="Entrada">
            <input type="text" id="p6" placeholder="Parcela">
            <input type="text" id="p7" placeholder="Reajuste">
            <input type="text" id="p8" placeholder="Prazo">
        </div>
        <button onclick="salvarP()" class="btn btn-green" style="width:100%">SALVAR PRODUTO</button>
        <div id="listP" style="max-height:150px; overflow-y:auto; margin-top:10px;"></div>
    </div>

    <div class="admin-section">
        <h3 style="color:var(--gold)">ğŸ›¡ï¸ OBJEÃ‡Ã•ES</h3>
        <input type="hidden" id="idxO" value="-1">
        <input type="text" id="okey" placeholder="Gatilho (ex: spc, caro)">
        <input type="text" id="otit" placeholder="TÃ­tulo da ObjeÃ§Ã£o">
        <textarea id="omsg" placeholder="Script de Contorno" rows="4"></textarea>
        <button onclick="salvarO()" class="btn btn-green" style="width:100%">SALVAR OBJEÃ‡ÃƒO</button>
        <div id="listO" style="max-height:150px; overflow-y:auto; margin-top:10px;"></div>
    </div>

    <div class="admin-section">
        <h3 style="color:var(--good)">ğŸ‘¥ USUÃRIOS</h3>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
            <input type="text" id="unome" placeholder="Login">
            <input type="text" id="usenha" placeholder="Senha">
        </div>
        <button onclick="salvarU()" class="btn btn-green" style="width:100%">ADICIONAR USUÃRIO</button>
        <div id="listU" style="max-height:100px; overflow-y:auto; margin-top:10px;"></div>
    </div>

    <button onclick="exportar()" class="btn btn-blue" style="width:100%; padding:20px; margin-top:10px;">ğŸ’¾ AUTO-BUILD (GERAR NOVO HTML)</button>
</div>

<div id="propModal" class="modal">
    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
        <h2>ğŸ“ FORMALIZAR PROPOSTA</h2>
        <button onclick="fechar('propModal')" class="btn btn-red">X</button>
    </div>
    <input type="text" id="cNome" placeholder="Nome do Cliente">
    <input type="text" id="cLote" placeholder="Quadra e Lote">
    <input type="text" id="cRef" placeholder="ReferÃªncias">
    <div id="propPreview" style="background:#000; padding:15px; border-radius:8px; font-size:13px; border:1px solid var(--good); white-space: pre-wrap;"></div>
    <button onclick="copiarProp()" class="btn btn-green" style="width:100%; margin-top:15px; padding:15px;">COPIAR PARA WHATSAPP</button>
</div>

<div class="footer">
    <button class="btn btn-blue" onclick="copiarDocs()">ğŸ“‚ DOCS</button>
    <button class="btn btn-green" onclick="abrirProposta()">ğŸ“ PROP</button>
    <button class="btn btn-red" onclick="limpar()">ğŸ§¹ LIMP</button>
    <button id="btnVoz" class="btn btn-blue" style="grid-column: span 3; background: #3b82f6;" onclick="falar()">ğŸ™ï¸ ESCUTA ATIVA</button>
</div>

<script>
    let db = {
        "prods": [
  {
    "nome": "Loteamento Carvalhos",
    "reg": "PrÃ³ximo ao Shopping (Sinop-MT)",
    "keys": "carvalhos,shopping,300m,sem entrada,1299,240x,obra 2028,alto padrÃ£o,investir,construir",
    "preco": "",
    "area": "300",
    "ent": "Sem entrada",
    "parc": "1.299,00",
    "reaj": "A informar",
    "prazo": "AtÃ© 240x"
  },
  {
    "nome": "Morada Brasil (LanÃ§amento)",
    "reg": "PrÃ³ximo Ã  Av. AndrÃ© Maggi (Sinop-MT)",
    "keys": "morada brasil,andrÃ© maggi,sem entrada,713,240x,lanÃ§amento,reserva,melhor localizaÃ§Ã£o,investir,construir",
    "preco": "170000",
    "area": "240",
    "ent": "Sem entrada",
    "parc": "713,00",
    "reaj": "A informar",
    "prazo": "AtÃ© 240x"
  },
  {
    "nome": "Casa Pronta em Sinop (MCMV)",
    "reg": "Bairro planejado (Sinop-MT) â€¢ Financiamento Caixa (Minha Casa Minha Vida)",
    "keys": "casa pronta,mcmv,caixa,699,sinal 1500,2 quartos,financiamento,unidades limitadas",
    "preco": "",
    "area": "",
    "ent": "Sinal R$ 1.500",
    "parc": "699,00",
    "reaj": "Conforme financiamento",
    "prazo": "A informar"
  },
  {
    "nome": "ChÃ¡caras Sem Consulta SPC (Santa Carmem)",
    "reg": "6 km de Santa Carmem â€¢ 1.800mÂ² prontos pra construir",
    "keys": "chÃ¡cara,chÃ¡caras,santa carmem,spc,sem spc,sem consulta,1800m,695,sem entrada,campo,construir",
    "preco": "",
    "area": "1800",
    "ent": "Sem entrada",
    "parc": "695,00",
    "reaj": "A informar",
    "prazo": "A informar"
  },
  {
    "nome": "Gran CanÃ¡rio",
    "reg": "Belvedere / MT-140 â€¢ RegiÃ£o da futura Fasipe Agro",
    "keys": "gran canÃ¡rio,belvedere,mt-140,fasipe agro,agro,595,investimento,valorizaÃ§Ã£o,faculdade,construir",
    "preco": "",
    "area": "",
    "ent": "A informar",
    "parc": "595,00",
    "reaj": "A informar",
    "prazo": "A informar"
  },
  {
    "nome": "Cedros Jardins",
    "reg": "PrÃ³ximo ao Posto BÃºfalo (Sinop-MT)",
    "keys": "cedros jardins,posto bÃºfalo,sem entrada,753,200m,parcelas,construir,lote barato,investimento",
    "preco": "",
    "area": "200",
    "ent": "Sem entrada",
    "parc": "753,00",
    "reaj": "A informar",
    "prazo": "A informar"
  }
],
,
        "objs": [
  {"k":"vou pensar,pensar,analisar,depois,ver depois","t":"Vou pensar / depois eu vejo","m":"1) Fechado: pensar Ã© inteligente. SÃ³ me diz: vocÃª estÃ¡ pensando no preÃ§o ou no medo de decidir errado?\n\n2) Top. Se eu te provar em 30 segundos que essa condiÃ§Ã£o Ã© a melhor da semana, vocÃª decide hoje?\n\n3) A verdade: quem â€˜pensa demaisâ€™ paga mais depois. Quer garantir a condiÃ§Ã£o agora e eu te mando tudo certinho?"},

  {"k":"caro,preÃ§o alto,muito caro,valor alto","t":"TÃ¡ caro","m":"1) â€˜Caroâ€™ comparado a quÃª: aluguel, carro, ou ao lote que vai subir mÃªs que vem?\n\n2) Se eu reduzir o custo da dÃºvida: vocÃª quer pagar menos no total ou pagar mais leve por mÃªs?\n\n3) Vamos ser justos: caro Ã© perder valorizaÃ§Ã£o. Com essa condiÃ§Ã£o, vocÃª trava o preÃ§o hoje. Vamos travar?"},

  {"k":"sem dinheiro,sem grana,to sem,apertado","t":"TÃ´ sem dinheiro agora","m":"1) Perfeito. EntÃ£o vamos falar de entrada e parcela: o que pesa mais pra vocÃª hoje?\n\n2) Se eu deixar o plano â€œdo jeito que cabeâ€, vocÃª segue? Simples.\n\n3) Apertado todo mundo tÃ¡. A pergunta Ã©: vocÃª prefere apertar com patrimÃ´nio ou apertar pagando aluguel?"},

  {"k":"spc,nome sujo,restriÃ§Ã£o,serasa,negativado","t":"TÃ´ com nome sujo / SPC","m":"1) Ã“timo vocÃª falar isso agora. Seu nome sujo impede crÃ©dito, nÃ£o impede estratÃ©gia. Qual Ã© o nÃ­vel da restriÃ§Ã£o?\n\n2) Se eu te mostrar um caminho de aprovaÃ§Ã£o/alternativa sem te expor, vocÃª topa avanÃ§ar?\n\n3) O pior cenÃ¡rio Ã© vocÃª esperar â€˜limparâ€™ e perder a condiÃ§Ã£o. Vamos garantir a reserva e ajustar o caminho?"},

  {"k":"entrada alta,sem entrada,entrada","t":"A entrada tÃ¡ alta","m":"1) Entendi. VocÃª quer reduzir entrada ou diluir entrada?\n\n2) Se eu diluir a entrada e manter a parcela segura, fecha?\n\n3) Entrada Ã© alavanca. Quanto menor a entrada, maior o risco de perder oportunidade. Vamos montar a entrada inteligente."},

  {"k":"parcela alta,parcela pesada,mensalidade alta","t":"Parcela tÃ¡ alta","m":"1) Parcela alta comparada ao quÃª: aluguel ou ao que vocÃª gasta em coisas que somem?\n\n2) Se eu encaixar a parcela no seu limite real, vocÃª decide hoje?\n\n3) Parcela nÃ£o Ã© custo, Ã© construÃ§Ã£o de patrimÃ´nio. Vamos calibrar o prazo pra te deixar confortÃ¡vel."},

  {"k":"juros,reajuste,igpm,ipca,selic","t":"Medo do reajuste/juros","m":"1) Justo. Reajuste existe pra acompanhar economia. O que te assusta: previsibilidade ou valor final?\n\n2) Se eu te explicar o reajuste com cenÃ¡rio conservador (pior caso), vocÃª segue seguro?\n\n3) Reajuste Ã© inevitÃ¡vel. O que vocÃª controla Ã© entrar cedo e pegar o menor preÃ§o. Vamos entrar no melhor ponto."},

  {"k":"localizaÃ§Ã£o longe,Ã© longe,muito longe,distante","t":"Ã‰ longe / localizaÃ§Ã£o","m":"1) Longe de onde: do centro ou da sua rotina? Me diz seu ponto de referÃªncia.\n\n2) Se eu te provar que o vetor de crescimento estÃ¡ indo pra lÃ¡, muda sua visÃ£o?\n\n3) Todo bairro bom jÃ¡ foi â€˜longeâ€™. Quem compra antes, ganha depois. Vamos te colocar na frente do movimento."},

  {"k":"quero ver primeiro,ver pessoalmente,visitar","t":"Quero ver primeiro","m":"1) CertÃ­ssimo. Ver Ã© obrigatÃ³rio. Me diz: manhÃ£ ou tarde? (pra eu travar o melhor horÃ¡rio)\n\n2) Antes de vocÃª ir, eu alinho 3 pontos do lote ideal. Pra nÃ£o perder tempo. Fechado?\n\n3) Enquanto vocÃª agenda, eu jÃ¡ deixo a condiÃ§Ã£o reservada. Visita sem pressÃ£o, mas com vantagem."},

  {"k":"minha esposa,meu marido,falar com,preciso conversar","t":"Preciso falar com a esposa/marido","m":"1) Perfeito. Quem decide junto, erra menos. O que vocÃª acha que ele(a) vai questionar primeiro?\n\n2) Eu te mando um Ã¡udio de 30s explicando a oportunidade pra vocÃª encaminhar. Mando agora?\n\n3) Vamos fazer o seguinte: vocÃª chama ele(a) pra 5 minutos comigo e eu resolvo as dÃºvidas. Sem enrolaÃ§Ã£o."},

  {"k":"nÃ£o confio,golpe,medo,tenho receio","t":"Tenho receio / nÃ£o confio","m":"1) Justo. ConfianÃ§a nÃ£o se pede, se prova. O que vocÃª precisa ver pra ficar 100% seguro?\n\n2) Eu te mostro documentaÃ§Ã£o, histÃ³rico e passo a passo. Se estiver ok, vocÃª segue?\n\n3) Medo Ã© normal. O que nÃ£o pode Ã© vocÃª perder a melhor condiÃ§Ã£o por inseguranÃ§a. Vamos validar e avanÃ§ar."},

  {"k":"vou comparar,comparar,outros lugares,outro loteamento","t":"Vou comparar com outros","m":"1) Compare. Mas compare certo: preÃ§o/mÂ², entrada, localizaÃ§Ã£o e potencial de valorizaÃ§Ã£o. Qual vocÃª quer priorizar?\n\n2) Se eu ganhar em 2 desses 4 pontos, vocÃª fecha comigo?\n\n3) Quem compara demais compra por Ãºltimo. Eu te coloco na frente: me diz o concorrente e eu te mostro a diferenÃ§a."},

  {"k":"nÃ£o Ã© o momento,agora nÃ£o,depois","t":"Agora nÃ£o Ã© o momento","m":"1) Entendi. O que falta pra virar o momento: dinheiro, seguranÃ§a ou decisÃ£o em casa?\n\n2) Se eu remover o principal obstÃ¡culo hoje, vira momento?\n\n3) â€˜NÃ£o Ã© o momentoâ€™ costuma ser medo fantasiado. Vamos tratar o fato real e destravar."},

  {"k":"medo de nÃ£o pagar,inadimplÃªncia,apertar","t":"Medo de nÃ£o conseguir pagar","m":"1) Perfeito vocÃª ser responsÃ¡vel. Me diz o valor mensal seguro pra vocÃª (sem sufoco).\n\n2) Se eu montar um plano que caiba nesse valor, vocÃª se compromete?\n\n3) Pior do que parcela Ã© ficar sem patrimÃ´nio. Vamos fazer do jeito certo: confortÃ¡vel e sustentÃ¡vel."},

  {"k":"quero desconto,desconto,abaixar,melhorar valor","t":"Quero desconto","m":"1) Claro. Desconto vem de decisÃ£o rÃ¡pida. VocÃª fecha hoje se eu melhorar X?\n\n2) Me diz: vocÃª quer desconto no total ou condiÃ§Ã£o melhor (entrada/parcela)?\n\n3) Eu consigo â€˜melhorarâ€™ pra quem decide. Sem drama: me dÃ¡ o sim e eu destravo o melhor."},

  {"k":"documentos,contrato,cartÃ³rio,escritura","t":"DÃºvida de documentaÃ§Ã£o/escritura","m":"1) Boa. Documento Ã© o que separa compra de dor de cabeÃ§a. VocÃª quer ver contrato ou matrÃ­cula primeiro?\n\n2) Eu te mando a lista de documentos e o fluxo certinho. Se estiver ok, a gente formaliza.\n\n3) TransparÃªncia total: eu sÃ³ avanÃ§o com vocÃª quando tudo estiver claro. Vamos validar agora."},

  {"k":"taxas,cartÃ³rio,registro,custos extras","t":"E as taxas/custos extras?","m":"1) Ã“timo. Custos existem. Prefere que eu te passe o cenÃ¡rio â€˜tudo inclusoâ€™ (pior caso) pra vocÃª nÃ£o ser pego de surpresa?\n\n2) Se o custo total fechar dentro do que vocÃª imaginou, vocÃª segue?\n\n3) Quem pergunta de taxa Ã© comprador sÃ©rio. Vamos colocar isso no papel e travar a condiÃ§Ã£o."},

  {"k":"prefiro casa,ap,to pensando em casa","t":"Prefiro casa/ap em vez de lote","m":"1) Casa Ã© bom. Mas lote Ã© alavanca: vocÃª compra mais barato, valoriza e escolhe o padrÃ£o depois.\n\n2) Se eu te mostrar que o lote hoje custa menos que a entrada de um ap, muda?\n\n3) Casa prende. Lote te dÃ¡ opÃ§Ã£o e lucro. Vamos jogar o jogo inteligente."},

  {"k":"aluguel,to pagando aluguel","t":"Eu pago aluguel / nÃ£o sobra","m":"1) Justamente. Aluguel Ã© taxa de nÃ£o-ter patrimÃ´nio.\n\n2) Se a parcela do lote ficar perto do aluguel, vocÃª migra pra construir patrimÃ´nio?\n\n3) VocÃª jÃ¡ paga todo mÃªs. A diferenÃ§a Ã©: quer pagar pra vocÃª ou pros outros?"},

  {"k":"tenho medo de cair,desvalorizar,bolha","t":"Medo de desvalorizar","m":"1) Justo. Me diz: vocÃª tem medo de bairro ruim ou de timing?\n\n2) Eu te mostro histÃ³rico da regiÃ£o e por que ela valoriza. Se fizer sentido, vocÃª segue.\n\n3) Terra boa nÃ£o â€œcaiâ€, ela oscila e sobe. Quem compra certo, ganha. Vamos comprar certo."},

  {"k":"nÃ£o conheÃ§o a regiÃ£o,desconheÃ§o","t":"NÃ£o conheÃ§o a regiÃ£o","m":"1) Perfeito. EntÃ£o eu te posiciono: 3 pontos de referÃªncia e o mapa mental do crescimento.\n\n2) Se eu te mandar um Ã¡udio com rota e vizinhanÃ§a, vocÃª avalia hoje?\n\n3) Desconhecido assusta. Depois que entende, fica Ã³bvio. Vamos tornar Ã³bvio em 2 minutos."},

  {"k":"vou esperar baixar,esperar,baixar","t":"Vou esperar baixar","m":"1) Esperar baixar Ã© apostar contra o mercado. VocÃª jÃ¡ viu lote bom baixar em lanÃ§amento?\n\n2) Se eu te mostrar por que tende a subir, vocÃª para de esperar e age?\n\n3) A Ãºnica coisa que baixa Ã© sua vantagem. Vamos travar hoje e vocÃª agradece depois."},

  {"k":"quero o melhor lote,melhor lote,escolher lote","t":"Quero escolher o melhor lote","m":"1) Excelente. Melhor lote depende do seu objetivo: morar, investir ou revender?\n\n2) Me dÃ¡ 2 preferÃªncias (esquina/miolo, sol, frente), que eu te separo os 3 melhores.\n\n3) Os melhores somem primeiro. Vamos garantir prioridade agora e vocÃª escolhe com calma."},

  {"k":"medo de pegar lote ruim,lote ruim","t":"E se eu pegar um lote ruim?","m":"1) Ã“tima preocupaÃ§Ã£o. Lote ruim Ã© o que nÃ£o bate com seu objetivo. Qual Ã© o seu objetivo?\n\n2) Eu te mando um checklist de lote bom. Se bater, vocÃª fecha?\n\n3) VocÃª nÃ£o vai escolher no escuro. Eu conduzo a escolha como especialista. Vamos fazer certo."},

  {"k":"prazo longo,muito tempo","t":"Prazo Ã© longo","m":"1) Prazo longo Ã© liberdade: parcela menor e vocÃª ganha tempo.\n\n2) Se eu reduzir o prazo e ajustar a parcela no seu limite, resolve?\n\n3) Prazo Ã© ferramenta. O objetivo Ã© encaixar sem sufoco e deixar o patrimÃ´nio crescer."},

  {"k":"prazo curto,pouco tempo","t":"Prazo Ã© curto","m":"1) Prazo curto Ã© vantagem pra quem quer quitar rÃ¡pido. VocÃª quer velocidade ou conforto?\n\n2) Se eu alongar um pouco e aliviar a mensal, vocÃª segue?\n\n3) O melhor plano Ã© o que vocÃª cumpre. Vamos calibrar pra ficar â€˜pagÃ¡velâ€™."},

  {"k":"nÃ£o tenho certeza,incerto,duvida","t":"NÃ£o tenho certeza","m":"1) Normal. Incerteza some com clareza. O que estÃ¡ nebuloso: condiÃ§Ã£o, regiÃ£o ou seguranÃ§a?\n\n2) Me dÃ¡ 1 dÃºvida principal. Eu resolvo agora.\n\n3) DecisÃ£o boa nÃ£o Ã© sem medo. Ã‰ com informaÃ§Ã£o. Vamos fechar a informaÃ§Ã£o e decidir."},

  {"k":"tÃ¡ corrido,sem tempo,ocupado","t":"TÃ´ sem tempo","m":"1) Perfeito. Eu resolvo em 2 minutos: objetivo, orÃ§amento e regiÃ£o. Bora?\n\n2) Me manda sÃ³: quanto de entrada e quanto de parcela. Eu te devolvo a melhor opÃ§Ã£o.\n\n3) Sem tempo Ã© motivo pra eu ser direto. VocÃª quer perder oportunidade ou quer que eu agilize?"},

  {"k":"me manda por escrito,manda mensagem,texto","t":"Me manda por escrito","m":"1) Mando. SÃ³ antes: qual ponto vocÃª quer que eu destaque pra vocÃª decidir?\n\n2) Eu mando resumo + proposta pronta pra vocÃª encaminhar pra famÃ­lia.\n\n3) Te mando agora e jÃ¡ deixo reservado. Se fizer sentido, vocÃª sÃ³ me dÃ¡ o ok."},

  {"k":"prefiro audio,manda audio","t":"Prefiro Ã¡udio","m":"1) Fechado. Me confirma: vocÃª quer entender condiÃ§Ã£o ou localizaÃ§Ã£o primeiro?\n\n2) Vou te mandar 2 Ã¡udios curtos: â€˜oportunidadeâ€™ e â€˜prÃ³ximos passosâ€™.\n\n3) Ãudio Ã© bom porque tira ruÃ­do. Te mando e vocÃª me responde com um â€˜simâ€™ ou â€˜nÃ£oâ€™."},

  {"k":"tenho medo de golpe no pix,pix","t":"Medo de pagar / PIX / golpe","m":"1) CertÃ­ssimo. Pagamento sÃ³ com orientaÃ§Ã£o, contrato e canal oficial. Sem improviso.\n\n2) Se eu te mandar os dados oficiais e o passo a passo, vocÃª fica seguro?\n\n3) SeguranÃ§a primeiro. A gente faz tudo rastreÃ¡vel. Do jeito certo e sem risco."},

  {"k":"qual garantia,garantia","t":"Qual a garantia disso?","m":"1) Garantia Ã© contrato + histÃ³rico + regra do jogo. O que vocÃª quer garantir: entrega, valorizaÃ§Ã£o ou documentaÃ§Ã£o?\n\n2) Eu te explico o que Ã© garantido por contrato e o que Ã© expectativa de mercado.\n\n3) Se vocÃª quer 0 risco, vocÃª paga caro. Se quer vantagem, vocÃª compra bem e documentado. Vamos pelo certo."},

  {"k":"vou falar com gerente,banco,financiamento","t":"Vou ver com banco/financiamento","m":"1) Perfeito. Enquanto isso, eu travo a condiÃ§Ã£o aqui. Pode ser?\n\n2) Me diga seu score/faixa, eu jÃ¡ te digo o caminho mais provÃ¡vel.\n\n3) Banco decide rÃ¡pido quando vocÃª apresenta certo. Eu te ajudo a apresentar certo."},

  {"k":"tÃ´ esperando receber,13,bonus,salario","t":"TÃ´ esperando receber","m":"1) Ok. Data exata? Porque eu consigo segurar condiÃ§Ã£o atÃ© X.\n\n2) Se eu reservar hoje e vocÃª paga na data, resolve?\n\n3) Quem espera receber geralmente compra mais caro. Vamos travar agora e vocÃª paga quando cair."},

  {"k":"quero sÃ³ informaÃ§Ã£o,informaÃ§Ã£o apenas","t":"Quero sÃ³ informaÃ§Ã£o","m":"1) Claro. SÃ³ que informaÃ§Ã£o sem direÃ§Ã£o vira enrolaÃ§Ã£o. Qual seu objetivo: morar ou investir?\n\n2) Me diz sua faixa de parcela e entrada que eu te mando a informaÃ§Ã£o certa.\n\n3) Eu te informo, mas vou te conduzir: vocÃª quer perder tempo ou quer acertar de primeira?"},

  {"k":"nÃ£o quero compromisso,compromisso,reserva","t":"NÃ£o quero compromisso agora","m":"1) Beleza. Reserva nÃ£o Ã© casamento, Ã© proteger sua vantagem.\n\n2) Se a reserva for sem dor de cabeÃ§a e te garantir condiÃ§Ã£o, vocÃª topa?\n\n3) Sem compromisso vocÃª fica exposto a subir preÃ§o e perder lote. Reserva Ã© inteligÃªncia."},

  {"k":"quero investir depois,agora nÃ£o invisto","t":"Depois eu invisto","m":"1) Investidor bom entra antes da massa, nÃ£o depois.\n\n2) Se eu te mostrar o gatilho de valorizaÃ§Ã£o, vocÃª entra agora?\n\n3) Depois Ã© mais caro. Investimento Ã© timing. Vamos pegar o melhor timing."},

  {"k":"medo de obra,infraestrutura,asfalto,Ã¡gua,luz","t":"Infraestrutura/obra/entrega","m":"1) Boa. O que vocÃª quer entender: cronograma, infraestrutura ou padrÃ£o de entrega?\n\n2) Eu te passo o status real e o que estÃ¡ no contrato.\n\n3) Obra assusta, mas Ã© aÃ­ que mora a valorizaÃ§Ã£o. Vamos te colocar do lado certo do ciclo."},

  {"k":"nÃ£o quero falar no telefone,ligar","t":"NÃ£o quero ligaÃ§Ã£o","m":"1) Tranquilo. Eu resolvo por aqui. SÃ³ preciso de 2 informaÃ§Ãµes: entrada e parcela.\n\n2) Eu te mando tudo resumido em 5 linhas. Sem ligaÃ§Ã£o.\n\n3) SÃ³ nÃ£o deixa a oportunidade escapar. Me responde e eu agilizo sem telefone."},

  {"k":"qual o m2,metro quadrado,mÂ²","t":"Quanto Ã© o mÂ²?","m":"1) Pergunta de comprador esperto. MÂ² bom Ã© o que valoriza e tem liquidez.\n\n2) Eu te passo o mÂ² e comparo com a regiÃ£o. Se estiver abaixo, vocÃª decide?\n\n3) Quando o mÂ² tÃ¡ bom, vocÃª nÃ£o negocia: vocÃª garante. Vamos calcular agora."},

  {"k":"quero esquina,esquina","t":"Quero lote de esquina","m":"1) Esquina Ã© premium. VocÃª quer pra comÃ©rcio, projeto diferenciado ou revenda?\n\n2) Eu separo as melhores esquinas disponÃ­veis agora. Quer mais movimento ou mais privacidade?\n\n3) Esquina some rÃ¡pido. Me dÃ¡ o ok e eu travo uma pra vocÃª escolher."},

  {"k":"quero perto do mercado,escola,centro","t":"Quero perto de tudo","m":"1) Perfeito. Me diz 2 prioridades: centro, escola, mercado, trabalho.\n\n2) Se eu te posicionar a 5-10 min do que importa, fecha?\n\n3) Perto de tudo custa mais. Se vocÃª quer valorizaÃ§Ã£o, pega antes e fica â€˜pertoâ€™ depois. Vamos inteligente."},

  {"k":"jÃ¡ tenho terreno,ja tenho lote","t":"JÃ¡ tenho um terreno","m":"1) Excelente. EntÃ£o vocÃª entende o jogo. A pergunta Ã©: vocÃª quer diversificar ou trocar por algo melhor?\n\n2) Se eu te mostrar um lote com potencial maior que o seu, vocÃª considera?\n\n3) Quem jÃ¡ tem lote, compra o segundo pra ganhar dinheiro. Vamos te colocar nessa posiÃ§Ã£o."},

  {"k":"nÃ£o quero dÃ­vida,dÃ­vida","t":"NÃ£o quero dÃ­vida","m":"1) Justo. EntÃ£o nÃ£o chama de dÃ­vida: chama de parcela de patrimÃ´nio.\n\n2) Se a parcela ficar dentro do seu confortÃ¡vel, ainda Ã© â€˜dÃ­vidaâ€™ pra vocÃª?\n\n3) DÃ­vida ruim Ã© a que nÃ£o te devolve nada. Essa te devolve terra + valorizaÃ§Ã£o."},

  {"k":"vou esperar promoÃ§Ã£o,black friday,promoÃ§Ã£o","t":"Vou esperar promoÃ§Ã£o melhor","m":"1) PromoÃ§Ã£o em lote Ã© agora (fase inicial). Depois chama â€˜reajusteâ€™.\n\n2) Se eu te provar que essa Ã© a melhor janela, vocÃª entra?\n\n3) Quem espera â€˜promoÃ§Ã£oâ€™ compra do repasse mais caro. Vamos comprar do jeito certo."},

  {"k":"meu score Ã© baixo,score baixo","t":"Meu score Ã© baixo","m":"1) Ok. Score baixo pede estratÃ©gia: entrada, prazo e perfil.\n\n2) Se eu te colocar no caminho com maior chance, vocÃª topa avanÃ§ar?\n\n3) Score nÃ£o Ã© sentenÃ§a. Ã‰ cenÃ¡rio. Vamos trabalhar com o cenÃ¡rio e nÃ£o perder a oportunidade."},

  {"k":"tem multa,desistir,desistÃªncia","t":"E se eu desistir?","m":"1) Pergunta madura. Existe regra de desistÃªncia e isso fica no contrato.\n\n2) Eu te explico o cenÃ¡rio real pra vocÃª entrar consciente.\n\n3) VocÃª nÃ£o vai entrar no escuro. Eu prefiro cliente seguro do que cliente empolgado."},

  {"k":"tÃ¡ caro pro meu orÃ§amento,fora do orÃ§amento","t":"Fora do meu orÃ§amento","m":"1) Show. EntÃ£o me dÃ¡ seu teto real de parcela e entrada.\n\n2) Se eu encaixar exatamente no seu teto, vocÃª decide hoje?\n\n3) OrÃ§amento Ã© limite. Eu trabalho dentro dele. SÃ³ nÃ£o dÃ¡ pra querer â€˜premiumâ€™ pagando â€˜mÃ­nimoâ€™. Vamos ajustar certo."},

  {"k":"nÃ£o entendi,explica melhor,confuso","t":"NÃ£o entendi direito","m":"1) Eu simplifico: 3 pontos â€” valor, entrada, parcela. Qual vocÃª quer primeiro?\n\n2) Eu te mando um resumo em 20 segundos. Sem enrolaÃ§Ã£o.\n\n3) ConfusÃ£o Ã© inimiga de compra. Eu tiro a confusÃ£o e vocÃª decide com clareza."},

  {"k":"me manda localizaÃ§Ã£o,onde fica,localizaÃ§Ã£o","t":"Onde fica exatamente?","m":"1) Te mando agora. Antes: vocÃª quer mais perto do centro ou mais perto de acesso rÃ¡pido?\n\n2) Vou te mandar: mapa + pontos de referÃªncia + rota.\n\n3) Se a localizaÃ§Ã£o te agradar, a gente fecha a condiÃ§Ã£o hoje. Combinado?"},

  {"k":"posso negociar,negociar,negociaÃ§Ã£o","t":"DÃ¡ pra negociar?","m":"1) DÃ¡, sim. NegociaÃ§Ã£o boa troca: decisÃ£o por condiÃ§Ã£o. VocÃª decide hoje?\n\n2) Me diz qual ponto vocÃª quer melhorar: entrada, parcela ou total.\n\n3) Eu negocio pra quem Ã© sÃ©rio. Se vocÃª estÃ¡ pronto, eu destravo o melhor."},

  {"k":"nÃ£o quero pagar corretor,comissÃ£o","t":"NÃ£o quero pagar corretor/comissÃ£o","m":"1) VocÃª nÃ£o paga corretor â€” vocÃª paga seguranÃ§a, estratÃ©gia e acesso Ã  melhor condiÃ§Ã£o.\n\n2) Se eu te economizar tempo e dinheiro evitando erro, faz sentido?\n\n3) Meu trabalho Ã© fazer vocÃª comprar certo. Isso vale mais do que qualquer comissÃ£o."},

  {"k":"jÃ¡ estou com outro corretor,outro corretor","t":"JÃ¡ tÃ´ com outro corretor","m":"1) Tranquilo. SÃ³ nÃ£o deixa faltar informaÃ§Ã£o. Ele te mostrou comparaÃ§Ã£o de mÂ² e janela de valorizaÃ§Ã£o?\n\n2) Se eu te mostrar um Ã¢ngulo que ele nÃ£o mostrou, vocÃª considera?\n\n3) Eu nÃ£o brigo por ego. Eu brigo pra vocÃª fazer o melhor negÃ³cio. Me deixa te dar 1 insight."},

  {"k":"quero ver contrato,contrato","t":"Quero ver o contrato antes","m":"1) CertÃ­ssimo. Contrato primeiro, emoÃ§Ã£o depois.\n\n2) Eu te mando os pontos-chave e explico o que olhar. Se estiver ok, vocÃª segue.\n\n3) TransparÃªncia total. Vamos ler junto e fechar sem ruÃ­do."},

  {"k":"tenho medo de golpe na internet,online","t":"Comprar online me dÃ¡ medo","m":"1) Medo vÃ¡lido. EntÃ£o a gente faz com validaÃ§Ã£o: documentos, dados oficiais e registro.\n\n2) Se eu te conduzir passo a passo e vocÃª validar tudo, vocÃª segue?\n\n3) Online ou presencial, o que protege Ã© processo. Eu tenho processo. Vamos fazer certo."},

  {"k":"quero sÃ³ um lote barato,barato","t":"Quero o mais barato","m":"1) Beleza. SÃ³ cuidado: â€˜baratoâ€™ pode ser caro depois. VocÃª quer barato ou bom negÃ³cio?\n\n2) Se eu te mostrar o melhor custo-benefÃ­cio (nÃ£o o menor preÃ§o), vocÃª aceita?\n\n3) Lobo compra valor, nÃ£o preÃ§o. Vamos pegar o lote certo que valoriza."},

  {"k":"quero investir pra revender,revender","t":"Quero pra revender","m":"1) Perfeito. EntÃ£o vamos direto: liquidez, posiÃ§Ã£o e preÃ§o de entrada.\n\n2) Se eu te indicar os 3 lotes com maior liquidez, vocÃª trava um?\n\n3) Revenda boa comeÃ§a na compra certa. Vamos comprar certo agora."},

  {"k":"quero pra construir,construir","t":"Quero pra construir","m":"1) Ã“timo. EntÃ£o o foco Ã©: topografia, vizinhanÃ§a e infraestrutura.\n\n2) Me diz seu projeto (casa tÃ©rrea/sobrado) e eu te indico o lote ideal.\n\n3) Quem constrÃ³i precisa escolher bem. Eu nÃ£o deixo vocÃª errar. Vamos escolher jÃ¡."},

  {"k":"vou esperar a poeira baixar,esperar estabilizar","t":"Vou esperar estabilizar","m":"1) Estabilizar Ã© quando jÃ¡ subiu.\n\n2) Se eu te mostrar que a fase boa Ã© justamente antes, vocÃª age?\n\n3) Lobo entra antes do barulho. Vamos entrar antes."},

  {"k":"nÃ£o quero me expor,privacidade","t":"NÃ£o quero me expor / privacidade","m":"1) Tranquilo. Eu trabalho discreto. SÃ³ preciso do mÃ­nimo pra montar sua proposta.\n\n2) Eu te mando tudo sem dados sensÃ­veis e vocÃª decide.\n\n3) VocÃª controla o ritmo. Eu sÃ³ garanto que vocÃª nÃ£o perde a condiÃ§Ã£o."},

  {"k":"sÃ³ estou olhando,olhando apenas","t":"SÃ³ estou olhando","m":"1) Perfeito. Quem â€˜sÃ³ olhaâ€™ Ã s vezes compra o melhor. Me diz: vocÃª olha pra investir ou pra morar?\n\n2) Se eu te mostrar 2 opÃ§Ãµes certeiras, vocÃª olha com direÃ§Ã£o?\n\n3) Olhar sem direÃ§Ã£o vira perder tempo. Eu te dou direÃ§Ã£o e vocÃª ganha vantagem."},

  {"k":"tenho medo de ser pressionado,pressÃ£o","t":"NÃ£o gosto de pressÃ£o","m":"1) Perfeito. Aqui nÃ£o tem pressÃ£o. Tem clareza.\n\n2) Meu papel Ã© te mostrar o melhor cenÃ¡rio e o pior cenÃ¡rio. VocÃª decide.\n\n3) Sem pressÃ£o, mas com verdade: a condiÃ§Ã£o nÃ£o espera. Vamos sÃ³ garantir e vocÃª decide tranquilo."},

  {"k":"vou decidir semana que vem,prÃ³xima semana","t":"Decido semana que vem","m":"1) Combinado. SÃ³ uma coisa: semana que vem a condiÃ§Ã£o pode mudar. Quer que eu segure hoje?\n\n2) Se eu segurar e vocÃª decidir, fechou. Se nÃ£o decidir, vocÃª libera. Justo.\n\n3) Eu prefiro vocÃª com opÃ§Ã£o do que sem opÃ§Ã£o. Vamos segurar agora."},

  {"k":"qual a melhor condiÃ§Ã£o,melhor condiÃ§Ã£o","t":"Qual a melhor condiÃ§Ã£o?","m":"1) A melhor condiÃ§Ã£o Ã© a que vocÃª consegue decidir agora.\n\n2) Me diz: entrada baixa ou parcela baixa? Eu te dou o melhor caminho.\n\n3) Eu vou te dar a melhor condiÃ§Ã£o possÃ­vel â€” mas eu preciso do seu â€˜simâ€™ pra destravar."},

  {"k":"posso reservar,reserva,segurar","t":"DÃ¡ pra reservar/segurar?","m":"1) Sim. Reserva existe pra proteger sua vantagem.\n\n2) Eu reservo, te mando tudo e vocÃª valida com calma.\n\n3) Reserva Ã© atitude de comprador sÃ©rio. Vamos fazer agora."},

  {"k":"qual prÃ³ximo passo,proximo passo","t":"Qual o prÃ³ximo passo?","m":"1) PrÃ³ximo passo Ã© simples: escolher o lote e formalizar proposta.\n\n2) Eu te envio a proposta pronta pra vocÃª sÃ³ confirmar.\n\n3) A partir daqui, a gente joga no modo rÃ¡pido: escolha, proposta, documentaÃ§Ã£o. Vamos?"}
],
,
        "users": [{"u": "admin", "p": "123"}],
        "lastProd": null
    };

    async function renderIndices() {
        const container = document.getElementById('indices');
        try {
            const resSelic = await fetch('https://api.bcb.gov.br/dados/serie/bcdata.sgs.432/dados/ultimos/1?formato=json');
            const dataSelic = await resSelic.json();
            const resIpca = await fetch('https://servicodados.ibge.gov.br/api/v3/agregados/1737/periodos/-1/variaveis/63?localidades=N1[all]');
            const dataIpca = await resIpca.json();
            const ipca = dataIpca[0].resultados[0].series[0].serie[Object.keys(dataIpca[0].resultados[0].series[0].serie)[0]];
            const resIgpm = await fetch('https://api.bcb.gov.br/dados/serie/bcdata.sgs.189/dados/ultimos/1?formato=json');
            const dataIgpm = await resIgpm.json();

            container.innerHTML = `
                <div class="idx-tag">SELIC: ${dataSelic[0].valor}%</div>
                <div class="idx-tag">IPCA 12M: ${ipca}%</div>
                <div class="idx-tag">IGP-M 12M: ${dataIgpm[0].valor}%</div>
                <div class="idx-tag">VALORIZAÃ‡ÃƒO: 18% A.A.</div>
            `;
        } catch (e) {
            container.innerHTML = `<div class="idx-tag">SELIC: 11.25%</div><div class="idx-tag">IPCA 12M: 4.5%</div><div class="idx-tag">VALORIZAÃ‡ÃƒO: 18%</div>`;
        }
    }

    function login() {
        const u = document.getElementById('uIn').value;
        const p = document.getElementById('pIn').value;
        const valid = db.users.find(user => user.u === u && user.p === p);
        if(valid) {
            document.getElementById('login').style.display='none';
            document.getElementById('btnAdm').style.display='block';
            renderIndices(); atualizarListas();
        } else alert("Acesso Negado!");
    }

    function pesquisar(v) {
        const t = v.toLowerCase().trim(); 
        const f = document.getElementById('feed'); f.innerHTML = ""; 
        if(t.length < 2) return;

        db.prods.forEach(p => {
            if(p.keys.includes(t) || p.nome.toLowerCase().includes(t)) {
                db.lastProd = p;
                const m2 = p.preco / p.area;
                const perda = (p.preco * 0.18) / 12;
                f.innerHTML += `<div class="card card-prod"><div style="display:flex; justify-content:space-between;"><h3>ğŸ“ ${p.nome}</h3><span style="background:var(--primary); font-size:9px; padding:3px 6px; border-radius:4px;">${p.prazo}</span></div><p style="font-size:11px; opacity:0.8; margin-bottom:10px;">${p.reg}</p><div class="info-grid"><div><span class="label-f">Total</span><b>R$ ${Number(p.preco).toLocaleString('pt-BR')}</b></div><div><span class="label-f">Parcela</span><b>R$ ${p.parc}</b></div><div><span class="label-f">Entrada</span><b>${p.ent}</b></div><div><span class="label-f">MÂ²</span><b>R$ ${m2.toFixed(2)}</b></div><div><span class="label-f">Reajuste</span><b>${p.reaj}</b></div><div><span class="label-f">Ãrea</span><b>${p.area}mÂ²</b></div></div><div class="calc-box">ğŸ“‰ Procrastinar custa <b>R$ ${perda.toLocaleString('pt-BR', {minimumFractionDigits: 2})}</b>/mÃªs em valorizaÃ§Ã£o.</div></div>`;
            }
        });

        db.objs.forEach(o => {
            if(o.k.split(',').some(g => t.includes(g.trim()))) { 
                f.innerHTML += `<div class="card card-obj"><strong>${o.t}</strong><div style="color:#93c5fd; margin-top:5px; font-size:14px; line-height:1.4; white-space: pre-wrap;">${o.m}</div></div>`; 
            }
        });
    }

    function salvarP() {
        const i = parseInt(document.getElementById('idxP').value);
        const p = { nome: document.getElementById('p1').value, reg: document.getElementById('p2').value, keys: document.getElementById('pk').value, preco: document.getElementById('p3').value, area: document.getElementById('p4').value, ent: document.getElementById('p5').value, parc: document.getElementById('p6').value, reaj: document.getElementById('p7').value, prazo: document.getElementById('p8').value };
        if(i === -1) db.prods.push(p); else db.prods[i] = p;
        limparCamposP(); atualizarListas(); alert("Produto Salvo!");
    }

    function editP(i) {
        const p = db.prods[i];
        document.getElementById('p1').value=p.nome; document.getElementById('p2').value=p.reg; document.getElementById('p3').value=p.preco; document.getElementById('p4').value=p.area; document.getElementById('p5').value=p.ent; document.getElementById('p6').value=p.parc; document.getElementById('p7').value=p.reaj; document.getElementById('p8').value=p.prazo; document.getElementById('pk').value=p.keys; document.getElementById('idxP').value=i;
    }

    function salvarO() {
        const i = parseInt(document.getElementById('idxO').value);
        const o = { k: document.getElementById('okey').value, t: document.getElementById('otit').value, m: document.getElementById('omsg').value };
        if(i === -1) db.objs.push(o); else db.objs[i] = o;
        document.getElementById('idxO').value="-1"; document.getElementById('okey').value=""; document.getElementById('otit').value=""; document.getElementById('omsg').value="";
        atualizarListas(); alert("ObjeÃ§Ã£o Salva!");
    }

    function editO(i) {
        const o = db.objs[i];
        document.getElementById('okey').value=o.k; document.getElementById('otit').value=o.t; document.getElementById('omsg').value=o.m; document.getElementById('idxO').value=i;
    }

    function salvarU() {
        db.users.push({u: document.getElementById('unome').value, p: document.getElementById('usenha').value});
        document.getElementById('unome').value=""; document.getElementById('usenha').value="";
        atualizarListas();
    }

    function atualizarListas() {
        document.getElementById('listP').innerHTML = db.prods.map((x,i) => `<div style="display:flex; justify-content:space-between; padding:8px; background:#000; margin-top:5px; font-size:11px;"><span>${x.nome}</span><div><button onclick="editP(${i})">ğŸ“</button><button onclick="db.prods.splice(${i},1);atualizarListas()">âŒ</button></div></div>`).join('');
        document.getElementById('listO').innerHTML = db.objs.map((x,i) => `<div style="display:flex; justify-content:space-between; padding:8px; background:#000; margin-top:5px; font-size:11px;"><span>${x.t}</span><div><button onclick="editO(${i})">ğŸ“</button><button onclick="db.objs.splice(${i},1);atualizarListas()">âŒ</button></div></div>`).join('');
        document.getElementById('listU').innerHTML = db.users.map((x,i) => `<div style="display:flex; justify-content:space-between; padding:8px; background:#000; margin-top:5px; font-size:11px;"><span>ğŸ‘¤ ${x.u}</span><button onclick="db.users.splice(${i},1);atualizarListas()">âŒ</button></div>`).join('');
    }

    function exportar() { 
        let h = document.documentElement.outerHTML; 
        h = h.replace(/let db = \{[\s\S]*?\};/, `let db = ${JSON.stringify(db, null, 4)};`); 
        const b = new Blob(["<!DOCTYPE html>\n"+h], {type:"text/html"}); 
        const a = document.createElement("a"); a.href = URL.createObjectURL(b); a.download = "sistema_elite_sinop.html"; a.click(); 
    }

    function abrir(id) { document.getElementById(id).style.display='block'; }
    function fechar(id) { document.getElementById(id).style.display='none'; }
    function limpar() { document.getElementById('busca').value=''; pesquisar(''); }
    function copiarDocs() { navigator.clipboard.writeText("ğŸ“‚ *DOCS:* RG/CPF, Comprovante de ResidÃªncia, Renda."); alert("Copiado!"); }
    function limparCamposP() { document.getElementById('idxP').value="-1"; ["p1","p2","p3","p4","p5","p6","p7","p8","pk"].forEach(id => document.getElementById(id).value=""); }
    
    function abrirProposta() {
        if(!db.lastProd) return;
        abrir('propModal');
        document.getElementById('propPreview').innerText = `PROPOSTA: ${db.lastProd.nome}\nVALOR: R$ ${Number(db.lastProd.preco).toLocaleString('pt-BR')}\nENTRADA: ${db.lastProd.ent}\nPARCELA: ${db.lastProd.parc}`;
    }

    function copiarProp() {
        const t = `ğŸ“ *PROPOSTA SINOP*\nLOCAL: ${db.lastProd.nome}\nVALOR: ${db.lastProd.preco}\nENTRADA: ${db.lastProd.ent}\nPARCELA: ${db.lastProd.parc}`;
        navigator.clipboard.writeText(t); alert("Copiado!");
    }

    function falar() {
        const r = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        r.lang = 'pt-BR'; r.onresult = (e) => { document.getElementById('busca').value = e.results[0][0].transcript; pesquisar(document.getElementById('busca').value); };
        r.start();
    }
</script>
</body>
</html>


