<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SISTEMA ELITE SINOP - CONTROLE TOTAL</title>
    <style>
        :root { --bg: #05070a; --card: #111827; --primary: #2563eb; --good: #059669; --bad: #dc2626; --text: #ffffff; --border: #374151; --gold: #fbbf24; }
        * { box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; }
        body { margin: 0; background: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        header { background: #000; padding: 12px; border-bottom: 3px solid var(--primary); display: flex; justify-content: space-between; align-items: center; }
        .index-tag { background: #1f2937; padding: 6px 10px; border-radius: 6px; font-size: 11px; border: 1px solid var(--gold); color: var(--gold); white-space: nowrap; font-weight: bold; margin-right: 5px; }

        main { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; padding-bottom: 200px; }
        .card { background: var(--card); border-radius: 12px; padding: 16px; border: 2px solid var(--border); position: relative; }
        .card-prod { border-left: 8px solid var(--primary); }
        .card-obj { border-left: 8px solid var(--gold); }
        
        /* BOT√ïES ALTO CONTRASTE */
        .btn { padding: 14px; border: none; border-radius: 8px; font-weight: 900; cursor: pointer; color: #ffffff !important; text-transform: uppercase; font-size: 12px; text-align: center; }
        .btn-primary { background-color: #2563eb; } /* Azul Forte */
        .btn-good { background-color: #059669; } /* Verde S√≥lido */
        .btn-bad { background-color: #dc2626; } /* Vermelho S√≥lido */
        .btn-edit { background-color: #fbbf24; color: #000 !important; } /* Amarelo Ouro */

        input, textarea, select { width: 100%; padding: 15px; border-radius: 8px; border: 2px solid #4b5563; background: #000; color: #fff; margin-bottom: 12px; font-size: 16px; font-weight: bold; }
        
        .footer { position: fixed; bottom: 0; width: 100%; background: #000; padding: 15px; border-top: 3px solid var(--primary); display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; z-index: 1000; }
        .modal { position: fixed; inset: 0; background: #000; z-index: 2000; display: none; padding: 20px; overflow-y: auto; }
        
        .grid-tecnico { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; background: #000; padding: 10px; border-radius: 8px; border: 1px solid #333; }
        .label-t { color: #9ca3af; font-size: 10px; text-transform: uppercase; }
        .val-t { color: #fff; font-weight: bold; font-size: 14px; display: block; }
    </style>
</head>
<body>

<div id="loginOverlay" style="position:fixed; inset:0; background:#000; z-index:5000; display:flex; align-items:center; justify-content:center; padding:20px;">
    <div class="card" style="width:100%; max-width:350px; text-align:center;">
        <h1 style="color:var(--primary)">SISTEMA ELITE</h1>
        <input type="text" id="uIn" placeholder="Usu√°rio">
        <input type="password" id="pIn" placeholder="Senha">
        <button onclick="login()" class="btn btn-primary" style="width:100%">ACESSAR</button>
    </div>
</div>

<header>
    <div style="display:flex; overflow-x:auto;" id="indices"></div>
    <button onclick="abrir('admin')" class="btn btn-edit" id="btnAdm" style="display:none;">GESTOR ‚öôÔ∏è</button>
</header>

<main>
    <input type="text" id="busca" placeholder="O que o cliente disse? (ex: spc, maggi, caro...)" oninput="pesquisar(this.value)" style="border: 3px solid var(--primary);">
    <div id="feed"></div>
</main>

<div id="admin" class="modal">
    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
        <h2>‚öôÔ∏è PAINEL MASTER</h2>
        <button onclick="fechar('admin')" class="btn btn-bad">SAIR</button>
    </div>

    <div class="card" style="border-color: var(--primary); margin-bottom: 20px;">
        <h3 id="tProd">Adicionar Produto</h3>
        <input type="hidden" id="idxP" value="-1">
        <input type="text" id="p1" placeholder="Nome">
        <input type="text" id="p2" placeholder="Regi√£o">
        <input type="text" id="pk" placeholder="Palavras-Chave (v√≠rgula)">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
            <input type="number" id="p3" placeholder="Pre√ßo R$">
            <input type="number" id="p4" placeholder="M¬≤">
            <input type="text" id="p5" placeholder="Entrada">
            <input type="text" id="p6" placeholder="Parcela">
            <input type="text" id="p7" placeholder="Prazo">
            <input type="text" id="p8" placeholder="Reajuste">
        </div>
        <button onclick="salvarP()" class="btn btn-good" style="width:100%">SALVAR PRODUTO</button>
        <div id="listP" style="margin-top:15px"></div>
    </div>

    <div class="card" style="border-color: var(--gold); margin-bottom: 20px;">
        <h3 id="tObj">Adicionar Obje√ß√£o</h3>
        <input type="hidden" id="idxO" value="-1">
        <input type="text" id="o1" placeholder="T√≠tulo (ex: T√° Caro)">
        <input type="text" id="ok" placeholder="Gatilhos (ex: pre√ßo, valor)">
        <textarea id="o2" placeholder="Resposta Leve"></textarea>
        <textarea id="o3" placeholder="Resposta M√©dia"></textarea>
        <textarea id="o4" placeholder="Resposta Agressiva"></textarea>
        <button onclick="salvarO()" class="btn btn-good" style="width:100%; background: #b45309;">SALVAR OBJE√á√ÉO</button>
        <div id="listO" style="margin-top:15px"></div>
    </div>

    <div class="card" style="border-color: #fff; margin-bottom: 20px;">
        <h3>Gest√£o de Usu√°rios</h3>
        <input type="text" id="uN" placeholder="Novo Usu√°rio">
        <input type="text" id="uS" placeholder="Senha">
        <button onclick="addU()" class="btn btn-primary" style="width:100%">ADICIONAR USU√ÅRIO</button>
        <div id="listU" style="margin-top:15px"></div>
    </div>

    <button onclick="exportar()" class="btn btn-primary" style="width:100%; padding:20px;">üíæ BAIXAR SISTEMA COM MEUS DADOS</button>
</div>

<div class="footer">
    <button class="btn btn-primary" onclick="alert('Docs: RG, CPF, Renda, Resid√™ncia')">üìÇ DOCS</button>
    <button class="btn btn-good" onclick="abrir('prop')">üìù PROP</button>
    <button class="btn btn-bad" onclick="document.getElementById('busca').value=''; pesquisar('')">üßπ LIMP</button>
</div>

<script>
    let db = {
        users: [{u:"admin", p:"123"}],
        prods: [
            {nome: "CEDROS JARDINS", reg: "Posto B√∫falo", preco: 145000, area: 200, ent: "SEM ENTRADA", parc: "753,00", prazo: "Imediato", reaj: "IGPM", keys: "cedros, bufalo, sem entrada"},
            {nome: "GRAN CAN√ÅRIO", reg: "MT-140", preco: 98000, area: 250, ent: "Facil", parc: "595,00", prazo: "Lan√ßamento", reaj: "IPCA", keys: "canario, agro, fasipe"},
            {nome: "MORADA BRASIL", reg: "Andr√© Maggi", preco: 170000, area: 300, ent: "SEM ENTRADA", parc: "713,00", prazo: "Amanh√£ 07h", reaj: "IGPM", keys: "morada, maggi, andre maggi"}
        ],
        objs: [
            {t: "T√Å CARO", k: "caro, pre√ßo", l: "Parece caro comparado a que?", m: "A terra valoriza 18% ao ano.", a: "Caro √© n√£o comprar e pagar o dobro depois."}
        ]
    };

    function login() {
        const u = document.getElementById('uIn').value, s = document.getElementById('pIn').value;
        const val = db.users.find(x => x.u === u && x.p === s);
        if(val) { document.getElementById('loginOverlay').style.display='none'; document.getElementById('btnAdm').style.display='block'; atualizarListas(); }
        else alert("Acesso Negado!");
    }

    // GEST√ÉO DE PRODUTOS
    function salvarP() {
        const i = parseInt(document.getElementById('idxP').value);
        const p = { nome: document.getElementById('p1').value, reg: document.getElementById('p2').value, preco: document.getElementById('p3').value, area: document.getElementById('p4').value, ent: document.getElementById('p5').value, parc: document.getElementById('p6').value, prazo: document.getElementById('p7').value, reaj: document.getElementById('p8').value, keys: document.getElementById('pk').value };
        if(i === -1) db.prods.push(p); else db.prods[i] = p;
        document.getElementById('idxP').value = "-1"; atualizarListas(); alert("Lote Salvo!");
    }

    function editP(i) {
        const p = db.prods[i];
        document.getElementById('p1').value = p.nome; document.getElementById('p2').value = p.reg;
        document.getElementById('p3').value = p.preco; document.getElementById('p4').value = p.area;
        document.getElementById('p5').value = p.ent; document.getElementById('p6').value = p.parc;
        document.getElementById('p7').value = p.prazo; document.getElementById('p8').value = p.reaj;
        document.getElementById('pk').value = p.keys; document.getElementById('idxP').value = i;
        document.getElementById('tProd').innerText = "Editando: " + p.nome;
    }

    // GEST√ÉO DE OBJE√á√ïES
    function salvarO() {
        const i = parseInt(document.getElementById('idxO').value);
        const o = { t: document.getElementById('o1').value, k: document.getElementById('ok').value, l: document.getElementById('o2').value, m: document.getElementById('o3').value, a: document.getElementById('o4').value };
        if(i === -1) db.objs.push(o); else db.objs[i] = o;
        document.getElementById('idxO').value = "-1"; atualizarListas(); alert("Obje√ß√£o Salva!");
    }

    function editO(i) {
        const o = db.objs[i];
        document.getElementById('o1').value = o.t; document.getElementById('ok').value = o.k;
        document.getElementById('o2').value = o.l; document.getElementById('o3').value = o.m;
        document.getElementById('o4').value = o.a; document.getElementById('idxO').value = i;
        document.getElementById('tObj').innerText = "Editando: " + o.t;
    }

    // GEST√ÉO DE USU√ÅRIOS
    function addU() {
        db.users.push({u: document.getElementById('uN').value, p: document.getElementById('uS').value});
        atualizarListas(); alert("Corretor Adicionado!");
    }

    function atualizarListas() {
        document.getElementById('listP').innerHTML = db.prods.map((x,i) => `<div class="card" style="margin-bottom:5px; padding:8px; display:flex; justify-content:space-between;"><span>${x.nome}</span><div><button onclick="editP(${i})" class="btn btn-edit" style="padding:4px 8px;">EDITAR</button> <button onclick="db.prods.splice(${i},1);atualizarListas()" class="btn btn-bad" style="padding:4px 8px;">X</button></div></div>`).join('');
        document.getElementById('listO').innerHTML = db.objs.map((x,i) => `<div class="card" style="margin-bottom:5px; padding:8px; display:flex; justify-content:space-between;"><span>${x.t}</span><div><button onclick="editO(${i})" class="btn btn-edit" style="padding:4px 8px;">EDITAR</button> <button onclick="db.objs.splice(${i},1);atualizarListas()" class="btn btn-bad" style="padding:4px 8px;">X</button></div></div>`).join('');
        document.getElementById('listU').innerHTML = db.users.map((x,i) => `<div class="card" style="margin-bottom:5px; padding:8px; display:flex; justify-content:space-between;"><span>${x.u}</span><button onclick="db.users.splice(${i},1);atualizarListas()" class="btn btn-bad" style="padding:4px 8px;">REMOVER</button></div>`).join('');
    }

    function pesquisar(v) {
        const t = v.toLowerCase(); const f = document.getElementById('feed'); f.innerHTML = ""; if(t.length < 2) return;
        db.prods.forEach(p => {
            if(p.keys.includes(t) || p.nome.toLowerCase().includes(t)) {
                f.innerHTML += `<div class="card card-prod"><h3>üìç ${p.nome}</h3><div class="grid-tecnico"><div><span class="label-t">ENTRADA</span><span class="val-t">${p.ent}</span></div><div><span class="label-t">PARCELA</span><span class="val-t">${p.parc}</span></div></div></div>`;
            }
        });
        db.objs.forEach(o => {
            if(o.k.includes(t)) {
                f.innerHTML += `<div class="card card-obj"><strong>üí• ${o.t}</strong><div style="color:#6ee7b7; margin-top:5px;">L: ${o.l}</div><div style="color:#93c5fd; margin-top:5px;">M: ${o.m}</div><div style="color:#fcd34d; margin-top:5px;">A: ${o.a}</div></div>`;
            }
        });
    }

    function exportar() {
        let h = document.documentElement.outerHTML;
        h = h.replace(/let db = \{[\s\S]*?\};/, `let db = ${JSON.stringify(db, null, 4)};`);
        const b = new Blob(["<!DOCTYPE html>\n"+h], {type:"text/html"});
        const a = document.createElement("a"); a.href = URL.createObjectURL(b); a.download = "sinop_master.html"; a.click();
    }
    
    function abrir(id) { document.getElementById(id).style.display='block'; }
    function fechar(id) { document.getElementById(id).style.display='none'; }
</script>
</body>
</html>
