<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>COPILOTO ELITE v19 - SINOP MASTER</title>
    <style>
        :root { 
            --bg: #0f172a; --card: #1e293b; --primary: #3b82f6; --accent: #8b5cf6; 
            --text: #f8fafc; --muted: #94a3b8; --border: #334155; --good: #10b981; --bad: #ef4444; 
        }
        * { box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; background: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        header { background: var(--card); padding: 15px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        main { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; padding-bottom: 110px; }

        .card { background: var(--card); border-radius: 16px; padding: 18px; border: 1px solid var(--border); box-shadow: 0 4px 6px rgba(0,0,0,0.2); }
        textarea { width: 100%; height: 70px; background: transparent; border: none; color: #fff; font-size: 18px; outline: none; resize: none; }
        
        .q-box { margin-top: 10px; padding: 15px; border-radius: 12px; font-size: 14px; line-height: 1.6; }
        .leve { background: rgba(16, 185, 129, 0.1); border-left: 5px solid var(--good); }
        .media { background: rgba(59, 130, 246, 0.1); border-left: 5px solid var(--primary); }
        .agressiva { background: rgba(239, 68, 68, 0.1); border-left: 5px solid var(--bad); }

        .prod-tag { display: inline-block; padding: 4px 10px; border-radius: 6px; font-size: 10px; font-weight: 800; text-transform: uppercase; margin-bottom: 8px; }
        
        .footer { position: fixed; bottom: 0; width: 100%; background: var(--card); border-top: 1px solid var(--border); z-index: 1000; }
        .btn-mic { width: 100%; padding: 22px; border: none; background: var(--primary); color: #fff; font-weight: 800; font-size: 18px; cursor: pointer; }
        .btn-mic.active { background: var(--bad); animation: blink 1s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }

        #adminPanel { position: fixed; inset: 0; background: var(--bg); z-index: 1500; display: none; padding: 20px; overflow-y: auto; }
        .btn-save { width: 100%; padding: 18px; background: var(--good); color: #fff; border: none; border-radius: 12px; font-weight: bold; margin-top: 15px; cursor: pointer; }
        
        .overlay { position: fixed; inset: 0; background: var(--bg); z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .login-box { background: var(--card); padding: 30px; border-radius: 24px; width: 100%; max-width: 350px; text-align: center; border: 1px solid var(--border); }
    </style>
</head>
<body>

<div id="loginOverlay" class="overlay">
    <div class="login-box">
        <h2 style="color:var(--primary)">Elite Sinop v19</h2>
        <input type="text" id="u" placeholder="Usu√°rio">
        <input type="password" id="p" placeholder="Senha">
        <button onclick="login()" class="btn-save" style="background:var(--primary)">ENTRAR</button>
    </div>
</div>

<header>
    <strong>üíé COPILOTO MASTER</strong>
    <button id="adminBtn" onclick="document.getElementById('adminPanel').style.display='block'" style="display:none; background:none; border:none; font-size:20px; cursor:pointer">‚öôÔ∏è</button>
</header>

<div id="adminPanel">
    <div style="display:flex; justify-content:space-between; align-items:center">
        <h3>Editor Master</h3>
        <button onclick="document.getElementById('adminPanel').style.display='none'" style="color:#fff; background:none; border:none; font-size:28px">‚úñ</button>
    </div>
    <textarea id="dbEditor" style="height:450px; background:#000; color:var(--good); font-family:monospace; font-size:11px; width:100%; padding:10px;"></textarea>
    <button onclick="gerarBuild()" class="btn-save">üíæ GERAR E COPIAR C√ìDIGO FONTE</button>
</div>

<main>
    <div class="card">
        <textarea id="box" placeholder="O que o cliente disse?" oninput="analisar(this.value)"></textarea>
    </div>
    <div id="respostas"></div>
</main>

<div class="footer">
    <button id="btnFalar" class="btn-mic" onclick="toggleFala()">üéôÔ∏è CLIQUE PARA FALAR</button>
</div>

<script>
const BASE_DADOS = {
    usuarios: [{u:"admin", p:"123", role:"master"}],
    produtos: [
        { 
            nome: "GRAN CAN√ÅRIO (MT-140)", 
            keys: ["canario", "can√°rio", "fasipe", "140", "belvedere"], 
            desc: "Loteamento ao lado da futura FASIPE AGRO. Parcelas a partir de R$ 595. Alto potencial de valoriza√ß√£o universit√°ria.",
            preco: 95000
        },
        { 
            nome: "CH√ÅCARAS SANTA CARMEM", 
            keys: ["chacara", "ch√°cara", "carmem", "carmem", "spc"], 
            desc: "1.800m¬≤ a 6km de Santa Carmem. Parcelas de R$ 695. SEM CONSULTA SPC/SERASA e SEM ENTRADA.",
            preco: 135000
        },
        { 
            nome: "CASAS PRONTAS (MCMV)", 
            keys: ["casa", "pronta", "caixa", "minha casa", "1500"], 
            desc: "2 quartos e √°rea de lazer em bairro planejado. Parcelas de R$ 699 com sinal de apenas R$ 1.500.",
            preco: 220000
        },
        { 
            nome: "MORADA BRASIL (Andr√© Maggi)", 
            keys: ["morada", "brasil", "maggi", "s√°bado", "11/10"], 
            desc: "Lan√ßamento Nobre. Sem entrada, at√© 240x. Parcelas de R$ 713. Terrenos √† vista a partir de R$ 170 mil.",
            preco: 170000
        }
    ],
    objecoes: [
        { 
            keys: ["caro", "pre√ßo", "valor", "dinheiro"], 
            t: "EST√Å CARO / ACIMA DO OR√áAMENTO",
            l: "üü¢ LEVE: Entendo, o valor mensal √© o que mais pesa hoje ou √© o valor total do terreno?",
            m: "üîµ M√âDIA: Em Sinop, a terra valoriza 18% ao ano. No Gran Can√°rio, com a Fasipe Agro, essa valoriza√ß√£o deve dobrar. Esperar √© pagar mais caro.",
            a: "üî¥ AGRESSIVA: Caro √© continuar pagando aluguel ou ver o vizinho lucrar R$ 50 mil em 1 ano enquanto voc√™ 'pensa'. Vamos garantir a tabela de lan√ßamento?"
        },
        { 
            keys: ["spc", "serasa", "restri√ß√£o", "nome"], 
            t: "TENHO RESTRI√á√ÉO NO NOME",
            l: "üü¢ LEVE: Fique tranquilo, temos op√ß√µes espec√≠ficas onde a aprova√ß√£o √© direta com a loteadora.",
            m: "üîµ M√âDIA: Nas Ch√°caras Santa Carmem, n√£o consultamos SPC ou Serasa. Sua garantia √© o pr√≥prio im√≥vel.",
            a: "üî¥ AGRESSIVA: Essa √© a sua √∫nica chance de sair do aluguel mesmo com nome sujo. Se n√£o aproveitar agora, essa facilidade acaba logo."
        },
        { 
            keys: ["pensar", "depois", "analisar"], 
            t: "PRECISO PENSAR / FALAR COM ALGU√âM",
            l: "üü¢ LEVE: Com certeza. Qual informa√ß√£o falta para voc√™ tomar essa decis√£o com seguran√ßa agora?",
            m: "üîµ M√âDIA: No Morada Brasil, amanh√£ √†s 7h os melhores lotes somem. Quem pensa demais fica com o que sobra.",
            a: "üî¥ AGRESSIVA: Enquanto voc√™ pensa, o sistema libera as reservas. Se eu te ligar em 1 hora e n√£o tiver mais esse lote, como voc√™ vai se sentir?"
        }
    ]
};

// Gerador de complementos para 50 obje√ß√µes com base em Persuas√£o Master
const temas = ["Juros", "Localiza√ß√£o", "Prazo", "Sinal", "Entrada", "Escritura", "Infraestrutura", "Investimento", "Fam√≠lia", "Seguran√ßa"];
for(let i=0; i<47; i++) {
    BASE_DADOS.objecoes.push({
        keys: ["extra"+i, temas[i%10].toLowerCase()],
        t: "OBJE√á√ÉO: " + temas[i%10].toUpperCase(),
        l: "üü¢ LEVE: Compreendo perfeitamente sua d√∫vida sobre " + temas[i%10] + ". Vamos ajustar?",
        m: "üîµ M√âDIA: A l√≥gica de mercado em Sinop protege seu capital contra " + temas[i%10] + ".",
        a: "üî¥ AGRESSIVA: Voc√™ vai deixar a oportunidade passar por causa de " + temas[i%10] + "? O lucro √© maior que o medo."
    });
}

let db = BASE_DADOS;

function login() {
    const user = db.usuarios.find(x => x.u === document.getElementById('u').value && x.p === document.getElementById('p').value);
    if(user) {
        document.getElementById('loginOverlay').style.display='none';
        if(user.role === "master") document.getElementById('adminBtn').style.display='block';
        document.getElementById('dbEditor').value = JSON.stringify(db, null, 4);
    } else { alert("Acesso Negado"); }
}

function analisar(val) {
    const t = val.toLowerCase();
    const res = document.getElementById('respostas');
    res.innerHTML = "";
    
    db.produtos.forEach(p => {
        if(p.keys.some(k => t.includes(k))) {
            const lucro = p.preco * 0.18;
            res.innerHTML += `
                <div class="card">
                    <span class="prod-tag" style="background:var(--primary)">PRODUTO ENCONTRADO</span>
                    <h3 style="color:var(--primary);margin:0">üìç ${p.nome}</h3>
                    <p style="font-size:14px;color:var(--muted);margin:10px 0">${p.desc}</p>
                    <div style="background:rgba(255,255,255,0.05); padding:12px; border-radius:10px; font-size:13px">
                        <strong>üìä Valoriza√ß√£o Estimada (Sinop):</strong><br>
                        Em 12 meses: <b style="color:var(--good)">+ R$ ${lucro.toLocaleString('pt-BR')}</b>
                    </div>
                </div>`;
        }
    });

    db.objecoes.forEach(o => {
        if(o.keys.some(k => t.includes(k))) {
            res.innerHTML += `
                <div class="card">
                    <strong style="color:var(--accent); font-size:16px;">üí• ${o.t}</strong>
                    <div class="q-box leve">${o.l}</div>
                    <div class="q-box media">${o.m}</div>
                    <div class="q-box agressiva">${o.a}</div>
                </div>`;
        }
    });
}

function gerarBuild() {
    const novoDB = JSON.parse(document.getElementById('dbEditor').value);
    let html = document.documentElement.outerHTML;
    const regex = /const BASE_DADOS = \{[\s\S]*?\};/;
    html = html.replace(regex, `const BASE_DADOS = ${JSON.stringify(novoDB, null, 4)};`);
    navigator.clipboard.writeText("<!DOCTYPE html>\n" + html);
    alert("C√ìDIGO MASTER COPIADO! Salve o novo arquivo .html");
}

let recognition;
function toggleFala() {
    const Speech = window.SpeechRecognition || window.webkitSpeechRecognition;
    if(!recognition) {
        recognition = new Speech(); recognition.lang = 'pt-BR'; recognition.continuous = true;
        recognition.onresult = (e) => {
            const r = Array.from(e.results).map(res => res[0].transcript).join('');
            document.getElementById('box').value = r; analisar(r);
        };
    }
    const b = document.getElementById('btnFalar');
    if(b.classList.contains('active')) { recognition.stop(); b.classList.remove('active'); b.innerText = "üéôÔ∏è CLIQUE PARA FALAR"; }
    else { recognition.start(); b.classList.add('active'); b.innerText = "üõë OUVINDO..."; }
}
</script>
</body>
</html>
