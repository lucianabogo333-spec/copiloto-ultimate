<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Copiloto ‚Äî Assistente de Obje√ß√µes em Tempo Real</title>

<style>
*{box-sizing:border-box;font-family:Inter,Arial,sans-serif}
body{margin:0;background:#f7f8fa;color:#1f2933}
header{background:#fff;padding:16px 32px;border-bottom:1px solid #e5e7eb}
header h1{margin:0;font-size:22px}
header span{font-size:13px;color:#6b7280}
.container{display:grid;grid-template-columns:260px 1fr 360px;gap:20px;padding:24px}
.card{background:#fff;padding:14px;border-radius:6px;margin-bottom:12px}
.product-card h3{margin:0 0 8px}
.product-card ul{padding-left:18px;margin:0}
textarea{width:100%;height:180px;padding:12px;font-size:14px}
button{padding:6px 10px;cursor:pointer}
.responses h4{margin:0 0 6px}
.mic{margin-top:8px}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;z-index:10}
.modal{background:#fff;padding:24px;width:420px;border-radius:8px}
.modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}
.primary{background:#4c5bd4;color:#fff;border:none}
</style>
</head>

<body>

<!-- MODAL -->
<div id="welcome" class="modal-overlay">
  <div class="modal">
    <h1>COPILOTO</h1>
    <h3>Assistente de Obje√ß√µes em Tempo Real</h3>
    <p>
      Copiloto √© um software que ajuda vendedores a lembrar informa√ß√µes do produto
      e quebrar obje√ß√µes em tempo real, com respostas curtas e humanas.
    </p>
    <div class="modal-actions">
      <button onclick="closeModal()">Fechar</button>
      <button class="primary" onclick="closeModal()">Come√ßar</button>
    </div>
  </div>
</div>

<header>
<h1>COPILOTO</h1>
<span>Assistente de Obje√ß√µes em Tempo Real</span>
</header>

<main class="container">

<!-- PRODUTO -->
<aside class="card product-card">
<h3 id="prod-name">Produto n√£o identificado</h3>
<ul id="prod-info"></ul>
</aside>

<!-- OBJE√á√ÉO -->
<section>
<textarea id="input" placeholder="Digite ou dite o que o cliente disse..." oninput="processText()"></textarea>
<button class="mic" onclick="startListening()">üéôÔ∏è Ouvir microfone</button>
</section>

<!-- RESPOSTAS -->
<section class="responses">
<div class="card">
<h4>Quebra Leve</h4>
<p id="r1">‚Äî</p>
<button onclick="copy('r1')">Copiar</button>
</div>

<div class="card">
<h4>Quebra M√©dia</h4>
<p id="r2">‚Äî</p>
<button onclick="copy('r2')">Copiar</button>
</div>

<div class="card">
<h4>Quebra Agressiva</h4>
<p id="r3">‚Äî</p>
<button onclick="copy('r3')">Copiar</button>
</div>
</section>

</main>

<script>
// ================= PRODUTOS =================
const products=[
{name:"MORADA BRASIL",keys:["morada"],info:["Loteamento residencial","Parcelas a partir de R$ 713","Entrada: n√£o","Av. Andr√© Maggi"]},
{name:"CASA PRONTA ‚Äì SINOP",keys:["casa","mcmv"],info:["Casa 2 quartos","Parcelas a partir de R$ 699","Entrada: R$ 1.500","Financiamento Caixa"]},
{name:"CH√ÅCARAS ‚Äì SANTA CARMEM",keys:["chacara","ch√°cara"],info:["1.800 m¬≤","Parcelas a partir de R$ 695","Entrada: n√£o","6 km de Santa Carmem"]},
{name:"GRAN CAN√ÅRIO",keys:["canario","gran"],info:["Loteamento urbano","Parcelas a partir de R$ 595","Entrada: sim / n√£o","MT-140"]},
{name:"CEDROS JARDINS",keys:["cedros","b√∫falo"],info:["Lotes 200 m¬≤","Parcelas a partir de R$ 753","Entrada: n√£o","Posto B√∫falo"]}
];

// ================= 50 OBJE√á√ïES =================
const objections=[
{keys:["caro"],a:"Entendo, √© normal analisar o valor. O que mais pesou pra voc√™?",b:"Voc√™ est√° comparando com qual op√ß√£o?",c:"Se a parcela couber, voc√™ avan√ßa?"},
{keys:["or√ßamento"],a:"Faz sentido cuidar do or√ßamento. Qual valor seria confort√°vel?",b:"O problema √© a parcela ou o prazo?",c:"Ajustando isso, voc√™ seguiria?"},
{keys:["pensar"],a:"Claro, pensar √© importante. O que voc√™ quer avaliar?",b:"Isso √© d√∫vida ou timing?",c:"Se nada mudar, sua resposta √© sim ou n√£o?"},
{keys:["depois"],a:"Tudo bem. Quando seria um bom momento?",b:"O que precisa acontecer pra voc√™ voltar?",c:"Se acabar antes, tudo bem pra voc√™?"},
{keys:["esposa","marido","familia"],a:"Faz sentido alinhar. O que ela vai perguntar?",b:"Quer ajuda pra explicar?",c:"Se ela concordar, voc√™ segue?"},
{keys:["comparando"],a:"Normal comparar. O que voc√™ est√° comparando?",b:"Pre√ßo ou condi√ß√£o?",c:"Se aqui fizer mais sentido, voc√™ decide?"},
{keys:["medo","receio"],a:"Entendo. Medo de qu√™ exatamente?",b:"Isso vem de experi√™ncia passada?",c:"Se resolvermos isso, voc√™ avan√ßa?"},
{keys:["confio"],a:"Obrigado pela sinceridade. O que falta pra confiar?",b:"Confian√ßa pra voc√™ vem de qu√™?",c:"Se resolver agora, voc√™ decide?"},
{keys:["n√£o conhe√ßo"],a:"Normal. O que te traria mais seguran√ßa?",b:"Localiza√ß√£o ou documenta√ß√£o?",c:"Se eu mostrar agora, resolve?"},
{keys:["tempo"],a:"Sem problema. Quando seria ideal?",b:"O que muda com mais tempo?",c:"Se n√£o mudar, voc√™ perde interesse?"},
{keys:["juros"],a:"Entendo. Voc√™ prefere menos prazo ou menor parcela?",b:"Voc√™ olha mais total ou mensal?",c:"Se fizer sentido, voc√™ segue?"},
{keys:["apertar"],a:"Certo. O que √© apertar pra voc√™?",b:"Qual valor mensal √© tranquilo?",c:"Se n√£o apertar, voc√™ fecha?"},
{keys:["esperar"],a:"Esperar por qu√™ exatamente?",b:"Tempo ou condi√ß√£o?",c:"Se n√£o mudar, voc√™ perde a oportunidade?"},
{keys:["decidir"],a:"Claro. O que falta pra decidir?",b:"Qual ponto pesa mais?",c:"Se resolver agora, voc√™ decide?"},
{keys:["contrato"],a:"Entendo. Qual cl√°usula te preocupa?",b:"Quer que eu explique essa parte?",c:"Se ficar claro, voc√™ avan√ßa?"}
];

// ================= FUN√á√ïES =================
function processText(){
const t=input.value.toLowerCase();

// produto
let p=products.find(x=>x.keys.some(k=>t.includes(k)));
if(p){
document.getElementById("prod-name").innerText=p.name;
document.getElementById("prod-info").innerHTML=p.info.map(i=>"<li>"+i+"</li>").join("");
}

// obje√ß√£o
let o=objections.find(x=>x.keys.some(k=>t.includes(k)));
if(o){
r1.innerText=o.a;
r2.innerText=o.b;
r3.innerText=o.c;
}
}

function copy(id){
navigator.clipboard.writeText(document.getElementById(id).innerText);
}

function closeModal(){welcome.style.display="none";}

// ================= MICROFONE =================
let recognition;
function startListening(){
if(!('webkitSpeechRecognition' in window)){
alert("Seu navegador n√£o suporta reconhecimento de voz.");
return;
}
recognition=new webkitSpeechRecognition();
recognition.lang="pt-BR";
recognition.continuous=false;
recognition.interimResults=false;
recognition.onresult=e=>{
input.value+=" "+e.results[0][0].transcript;
processText();
};
recognition.start();
}
</script>

</body>
</html>
