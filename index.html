<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>COPILOTO PRO ‚Äî Dados Oficiais</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  :root{
    --bg:#f8fafc; --panel:#ffffff; --text:#0f172a; --muted:#64748b; --border:#e2e8f0;
    --primary:#2563eb; --accent:#f59e0b; --success:#16a34a; --radius:12px;
  }

  *{box-sizing:border-box; font-family: 'Inter', system-ui, sans-serif;}
  body{ margin:0; background: var(--bg); color: var(--text); }

  .eco-header { background: #0f172a; color: #fff; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; font-size: 13px; }
  .eco-stats { display: flex; gap: 20px; }
  .eco-item span { color: var(--accent); font-weight: 800; margin-left: 5px; }
  #live-clock { font-family: monospace; font-size: 15px; color: #fff; border-left: 1px solid #334155; padding-left: 20px; }

  header{ position:sticky; top:0; z-index:50; background:rgba(255,255,255,.9); backdrop-filter: blur(10px); border-bottom:1px solid var(--border); padding:10px 20px; }
  .topbar{ max-width:1400px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; }
  
  main{ max-width:1400px; margin:20px auto; padding:0 20px; display:grid; grid-template-columns: 350px 1fr 400px; gap:20px; }

  .card{ background:white; border-radius:var(--radius); border:1px solid var(--border); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); overflow:hidden; margin-bottom:15px;}
  .card-head{ padding:12px 15px; border-bottom:1px solid var(--border); background:#f8fafc; font-weight:800; font-size:11px; color:var(--muted); text-transform:uppercase; letter-spacing: 1px; }
  .card-body{ padding:15px; }

  .info-block { background: #f1f5f9; border-radius: 8px; padding: 12px; margin-top: 10px; }
  .info-item { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #e2e8f0; font-size: 13px; }
  .info-item:last-child { border: none; }

  .proc-calc { background: #fff7ed; border: 1px dashed #fdba74; padding: 15px; border-radius: 8px; margin-top: 15px; }
  .loss-value { color: #dc2626; font-size: 20px; font-weight: 800; }

  button, .btn-link{ padding:10px 20px; border-radius:8px; border:none; cursor:pointer; font-weight:700; transition: 0.2s; text-decoration: none; display: inline-block; text-align: center; }
  .btn-primary{ background: var(--primary); color:white; }
  .btn-success{ background: var(--success); color:white; width:100%; margin-top:15px; font-size:14px; }
  .btn-danger{ background: #fee2e2; color: #b91c1c; padding: 5px 10px; font-size: 11px; }
  .btn-export{ background: #000; color: #fff; width:100%; margin-bottom:20px; padding:18px; border: 2px solid var(--primary); font-size:16px; }

  input, textarea, select { width:100%; padding:10px; margin: 5px 0 12px 0; border:1px solid var(--border); border-radius:8px; }
  label { font-size: 11px; font-weight: 700; color: var(--muted); text-transform: uppercase; }

  #adminDrawer{ position:fixed; inset:0; display:none; z-index:100; }
  #adminDrawer.show{ display:flex; }
  .drawer-content{ width:min(850px, 95%); background:white; margin-left:auto; height:100%; box-shadow:-20px 0 50px rgba(0,0,0,0.2); display:flex; flex-direction:column; }
  .drawer-tabs { display: flex; background: #f1f5f9; padding: 10px 20px 0 20px; gap: 5px; }
  .tab-btn { padding: 10px 20px; background: #e2e8f0; border-radius: 8px 8px 0 0; color: var(--muted); border: none; cursor: pointer; }
  .tab-btn.active { background: white; color: var(--primary); font-weight: 800; }
  .drawer-body{ flex:1; overflow-y:auto; padding:30px; }
  .data-row { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #eee; font-size: 13px; }

  @media (max-width: 1100px){ main{ grid-template-columns: 1fr; } }
</style>
</head>
<body onload="startTime(); updateEcoRates();">

<div class="eco-header">
  <div class="eco-stats">
    <div class="eco-item">SELIC: <span id="val-selic">Carregando...</span></div>
    <div class="eco-item">IPCA (12m): <span id="val-ipca">Carregando...</span></div>
    <div class="eco-item">IGP-M: <span id="val-igpm">Carregando...</span></div>
  </div>
  <div id="live-clock">00:00:00</div>
</div>

<header>
  <div class="topbar">
    <div><strong>COPILOTO PRO</strong> <span id="userBadge" style="font-size:10px; background:#eee; padding:2px 6px; border-radius:4px;"></span></div>
    <div id="userTools" style="display:none; gap:10px;">
      <button class="btn-outline" id="btnAdmin" onclick="openAdmin()">‚öôÔ∏è Painel de Edi√ß√£o</button>
      <button onclick="location.reload()">Sair</button>
    </div>
  </div>
</header>

<div id="loginArea" style="position:fixed; inset:0; background:var(--bg); z-index:200; display:flex; align-items:center; justify-content:center;">
  <div class="card" style="width:350px; padding:30px;">
    <h2>Acesso Portal</h2>
    <input id="lUser" type="text" placeholder="Usu√°rio" value="edson">
    <input id="lPass" type="password" placeholder="Senha" value="2026">
    <button class="btn-primary" onclick="initApp()" style="width:100%">Entrar</button>
  </div>
</div>

<main id="appMain" style="opacity:0.1; pointer-events:none;">
  <aside>
    <div class="card">
      <div class="card-head">Ficha T√©cnica do Im√≥vel</div>
      <div class="card-body">
        <h2 id="view-name" style="color:var(--primary); margin:0 0 10px 0;">Aguardando...</h2>
        <div id="view-details" class="info-block">
          <p style="font-size:12px; color:var(--muted)">Os dados aqui s√£o os que voc√™ cadastrou.</p>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-head">Procrastina√ß√£o (12 meses)</div>
      <div class="card-body proc-calc">
        <div class="loss-value" id="view-loss">R$ 0,00</div>
      </div>
    </div>

    <a href="https://lucianabogo333-spec.github.io/formalizacao-proposta/" target="_blank" class="btn-link btn-success">
      üìù FORMALIZA√á√ÉO DE PROPOSTA
    </a>
  </aside>

  <section>
    <div class="card">
      <div class="card-head">Escuta Estrat√©gica</div>
      <div class="card-body">
        <textarea id="mainInput" placeholder="O que o cliente est√° dizendo?" style="min-height:350px;"></textarea>
        <button class="btn-primary" id="micBtn" onclick="toggleMic()" style="width:100%; margin-top:10px; height:50px;">üéôÔ∏è Capturar Voz</button>
      </div>
    </div>
  </section>

  <aside>
    <div class="card"><div class="card-head">Quebra Sugerida</div><div class="card-body">
      <div id="res-box" style="font-size:15px; line-height:1.5;">Aguardando obje√ß√µes...</div>
    </div></div>
    <div class="card"><div class="card-head">Proje√ß√£o Patrimonial</div><div class="card-body"><canvas id="mainChart"></canvas></div></div>
  </aside>
</main>

<div id="adminDrawer">
  <div style="flex:1; background:rgba(0,0,0,0.6)" onclick="closeAdmin()"></div>
  <div class="drawer-content">
    <div style="padding:20px 20px 0 20px">
        <h2>Gest√£o de Dados</h2>
        <button class="btn-export" onclick="copyFullCode()">üöÄ COPIAR C√ìDIGO ATUALIZADO (GITHUB)</button>
    </div>
    
    <div class="drawer-tabs">
        <button class="tab-btn active" onclick="showTab('tab-users', this)">Usu√°rios</button>
        <button class="tab-btn" onclick="showTab('tab-products', this)">Produtos</button>
        <button class="tab-btn" onclick="showTab('tab-objections', this)">Obje√ß√µes</button>
    </div>

    <div class="drawer-body">
        <div id="tab-users" class="tab-content">
            <label>Login</label><input id="fUserLogin">
            <label>Senha</label><input id="fUserPass">
            <label>Perfil</label><select id="fUserRole"><option value="admin">Admin</option><option value="vendedor">Vendedor</option></select>
            <button class="btn-primary" onclick="saveData('users')">Adicionar</button>
            <div id="list-users" style="margin-top:20px"></div>
        </div>

        <div id="tab-products" class="tab-content" style="display:none">
            <label>Nome do Produto</label><input id="fProdName">
            <label>Chaves p/ Busca (v√≠rgula)</label><input id="fProdKeys">
            <label>Valor de Venda (R$)</label><input id="fProdVal" type="number">
            <label>Estimativa Valoriza√ß√£o Anual (%)</label><input id="fProdRate" type="number">
            <label>Dados Reais (uma info por linha)</label><textarea id="fProdInfo" style="min-height:100px"></textarea>
            <button class="btn-primary" onclick="saveData('products')">Salvar Produto</button>
            <div id="list-products" style="margin-top:20px"></div>
        </div>

        <div id="tab-objections" class="tab-content" style="display:none">
            <label>Obje√ß√£o Chave</label><input id="fObjKeys">
            <label>Argumento Leve</label><textarea id="fObjA"></textarea>
            <label>Argumento Forte</label><textarea id="fObjB"></textarea>
            <label>Fechamento</label><textarea id="fObjC"></textarea>
            <button class="btn-primary" onclick="saveData('objections')">Salvar Obje√ß√£o</button>
            <div id="list-objections" style="margin-top:20px"></div>
        </div>
    </div>
    <button class="btn-outline" style="margin:20px" onclick="closeAdmin()">Fechar</button>
  </div>
</div>

<script id="databaseScript">
  let base = {
    users: [{login:"edson", pass:"2026", role:"admin"}, { login: "luciana", pass: "1234", role: "admin",} , 

      { login: "luciana", pass: "2023", role: "vendedor" }],
    products: [
      { 
        name: "LOTEAMENTO CARVALHOS", 
        keys: ["carvalhos", "carvalho", "terra rica", "bobeiro", "integr√ßao", "shopping", "12x25", "300m", "2028"], 
        baseVal: 150000, 
        rate: 15, 
        info: [
          "üìç Pr√≥ximo ao Shopping",
          "üìè Terrenos de 300 m¬≤ (12x25)",
          "üí∞ Parcelas a partir de R$ 1.299,00",
          "üö´ SEM ENTRADA",
          "‚è≥ Planos em at√© 240x",
          "üèóÔ∏è Libera√ß√£o para obras em 2028"
        ] 
      },
      { 
        name: "RECANTO RENASCER (STA CARMEM)", 
        keys: ["renascer", "carmem", "ch√°cara", "lago", "trif√°sica", "6km"], 
        baseVal: 85000, 
        rate: 18, 
        info: [
          "üå≥ 6 km da entrada de Santa Carmem",
          "üåä Lindo lago na frente do empreendimento",
          "üí° Energia el√©trica trif√°sica",
          "üö´ SEM ENTRADA (exceto QD02)",
          "üí∏ Parcelas a partir de R$ 695"
        ] 
      },
      { 
        name: "RECANTO ALVORADA", 
        keys: ["alvorada", "azul", "canarinho", "21km", "carmen", "chacara", "1200m", "mata"], 
        baseVal: 75000, 
        rate: 12, 
        info: [
          "üìç 21 km do Canarinho",
          "üìê Lotes a partir de 1.200 m¬≤",
          "üèû Acesso coletivo ao Rio Azul",
          "üå≥ Ch√°caras entregues 100% com mata",
          "üí∞ Parcelas a partir de R$ 600,00"
        ] 
      },
      { 
        name: "CEDROS JARDINS", 
        keys: ["cedros", "jardins", "b√∫falo", "bufalo", "fastec", "center"], 
        baseVal: 95000, 
        rate: 14, 
        info: [
          "üìç Pr√≥ximo ao Posto B√∫falo, Fastec e Super Center",
          "üìè Lotes a partir de 200 m¬≤",
          "üö´ Sem entrada",
          "üíµ Parcelas a partir de R$ 753,00"
        ] 
      },
      { 
        name: "RESIDENCIAL TUIUI√ö", 
        keys: ["tuiui√∫", "tuiuiu", "videira", "super", "center", "fastec", "sonhalto", "2026"], 
        baseVal: 105000, 
        rate: 15, 
        info: [
          "üìç Localiza√ß√£o: Fastec, Super Center, Sonhalto Videira",
          "üí∞ Parcelas a partir de R$ 869,00",
          "üìÖ Constru√ß√£o liberada a partir de julho/2026"
        ] 
      },
      { 
        name: "MORADA BRASIL", 
        keys: ["morada", "brasil", "maggi", "andre", "170k"], 
        baseVal: 170000, 
        rate: 20, 
        info: [
          "üìç Acesso direto √† Av. Andr√© Maggi (Regi√£o Nobre)",
          "‚úÖ Sem entrada",
          "üí∞ Valor √† vista a partir de R$ 170 mil",
          "üí∏ Parcelas a partir de R$ 713,00",
          "‚è≥ At√© 240 vezes"
        ] 
      },
      { 
        name: "CASA PRONTA (MCMV)", 
        keys: ["pronta", "caixa", "mcmv", "minha", "sinal", "1500"], 
        baseVal: 220000, 
        rate: 10, 
        info: [
          "üè† 2 quartos, Sala, Cozinha, √Årea de lazer",
          "üèóÔ∏è Bairro planejado em Sinop",
          "üí∞ Parcelas a partir de R$ 699,00",
          "üí≥ Sinal de apenas R$ 1.500",
          "üè¶ Financiamento Minha Casa Minha Vida"
        ] 
      },
      { 
        name: "GRAN CAN√ÅRIO", 
        keys: ["gran", "can√°rio", "canario", "fasipe", "agro", "140", "belvedere"], 
        baseVal: 78000, 
        rate: 25, 
        info: [
          "üéì Localiza√ß√£o estrat√©gica ‚Äî Futura FASIPE AGRO",
          "üìç Regi√£o do Belvedere / MT-140",
          "üìà Potencial gigantesco de valoriza√ß√£o",
          "üí∏ Parcelas a partir de R$ 595"
        ] 
      },
      { 
        name: "CASA ANDR√â MAGGI (300K)", 
        keys: ["300k", "300.000", "porcelanato", "inteiro", "detalhada", "su√≠te"], 
        baseVal: 300000, 
        rate: 12, 
        info: [
          "üè† √Årea Constru√≠da: 64 m¬≤ | Terreno: 302 m¬≤",
          "üíé Acabamento em porcelanato e ilumina√ß√£o LED",
          "üõèÔ∏è 1 su√≠te + 1 quarto",
          "üöÄ Espa√ßo para amplia√ß√£o (3¬∫ quarto e garagem)",
          "üí∞ Valor: R$ 300.000,00 (Aceita Financiamento)"
        ] 
      }
    ],
    objections: [
  // 1-10: Pre√ßo, Tempo e Decis√£o
  { keys: ["caro", "pre√ßo", "valor"], a: "Caro em rela√ß√£o a qu√™? Se eu te desse R$ 200 mil em barras de ouro por R$ 150 mil, voc√™ diria que est√° caro? (Lobo)", b: "O pre√ßo √© o que voc√™ paga, o valor √© o lucro que voc√™ leva no bolso na entrega. (Warren Buffett)", c: "Prefere economizar 10% hoje ou ganhar 40% de valoriza√ß√£o amanh√£? (Psicologia da Venda)" },
  { keys: ["pensar", "analisar"], a: "Pensar n√£o compra terreno. O que exatamente te impede de assinar agora: o projeto ou eu? (Lobo)", b: "90% de quem diz que vai pensar, acaba n√£o agindo e perde a oportunidade. Vamos resolver sua d√∫vida agora. (B√≠blia das Vendas)", c: "Enquanto voc√™ pensa, os lotes de oportunidade acabam. Sobrar√£o os piores e mais caros. (Escassez)" },
  { keys: ["esposa", "marido", "s√≥cio"], a: "Se voc√™ chegar em casa com um lucro de R$ 50 mil garantido, ela vai ficar brava ou te dar um beijo? (Lobo)", b: "Voc√™ √© o investidor. Se voc√™ viu o valor, sua fun√ß√£o √© liderar a fam√≠lia para a prosperidade. (Straight Line)", c: "Vamos ligar para ela agora. Eu explico os n√∫meros, voc√™ explica o sonho. (A√ß√£o Imediata)" },
  { keys: ["crise", "mercado", "governo"], a: "O governo muda, a crise passa, mas a terra continua l√° valorizando. Onde voc√™ prefere seu dinheiro? (Lobo)", b: "Ricos investem na crise, pobres fogem dela. De qual lado voc√™ quer estar? (Pai Rico Pai Pobre)", c: "O mercado imobili√°rio √© o √∫nico que sobrevive a qualquer cen√°rio pol√≠tico h√° 500 anos. (Autoridade)" },
  { keys: ["longe", "dist√¢ncia"], a: "Longe √© onde n√£o tem crescimento. Daqui a 2 anos, isso aqui ser√° o novo centro. (Lobo)", b: "Quem comprou Alphaville no come√ßo ouviu que era longe. Hoje eles s√£o milion√°rios. (Prova Social)", c: "A dist√¢ncia hoje √© o que garante o pre√ßo de hoje. Amanh√£, perto e caro ser√° tarde. (Antecipa√ß√£o)" },
  { keys: ["esperar", "momento"], a: "Esperar o qu√™? O pre√ßo subir ou o melhor lote ser vendido? (Lobo)", b: "O melhor momento para plantar uma √°rvore foi h√° 20 anos. O segundo melhor √© agora. (Prov√©rbio de Vendas)", c: "O mercado n√£o espera ningu√©m. Cada dia parado √© dinheiro que voc√™ deixa de ganhar. (Custo de Oportunidade)" },
  { keys: ["comparar", "outros"], a: "Pode comparar. Mas voc√™ vai voltar aqui e esse lote j√° ter√° dono. (Lobo)", b: "A concorr√™ncia vende metros quadrados, eu vendo patrim√¥nio e liquidez. (Diferencia√ß√£o)", c: "N√£o compare pre√ßo de banana com pre√ßo de ouro. Este projeto √© √∫nico. (Venda Desafiadora)" },
  { keys: ["juros", "parcela"], a: "O juros incomoda? A valoriza√ß√£o de 20% ao ano engole qualquer taxa que o banco te cobrar. (Lobo)", b: "Foque na parcela que cabe no bolso, o tempo cuida da valoriza√ß√£o do seu capital. (Venda Consultiva)", c: "O juros √© o aluguel do dinheiro. O terreno √© a sua liberdade financeira. (Psicologia Financeira)" },
  { keys: ["desconto", "baixar"], a: "Eu n√£o vendo pre√ßo, vendo oportunidade. Se eu baixar, tiro a qualidade do seu vizinho. (Lobo)", b: "O valor √© justo pela entrega. Se fosse mais barato, voc√™ deveria desconfiar da obra. (Autoridade)", c: "Posso ver uma condi√ß√£o de prazo, mas o valor do ativo √© inegoci√°vel pela qualidade. (Integridade)" },
  { keys: ["medo", "risco"], a: "O √∫nico risco aqui √© voc√™ ficar de fora e me ver vendendo esse lote pelo dobro ano que vem. (Lobo)", b: "O risco de n√£o investir √© maior que o risco de investir. O dinheiro parado derrete. (Mente Milion√°ria)", c: "Temos garantia em contrato e registro em cart√≥rio. Sua seguran√ßa √© minha prioridade. (Garantia)" },

  // 11-20: Infraestrutura e Confian√ßa
  { keys: ["obra", "atraso"], a: "O contrato prev√™ multa. Minha pele est√° em jogo tanto quanto a sua. (Lobo)", b: "Veja o hist√≥rico: entregamos 100% dos projetos. Nosso nome √© nosso maior ativo. (Credibilidade)", c: "Obra em andamento √© o momento exato de lucro. Depois de pronto, o pre√ßo explode. (Timing)" },
  { keys: ["infraestrutura", "luz", "√°gua"], a: "Se j√° tivesse tudo pronto, voc√™ n√£o estaria falando comigo por esse pre√ßo. (Lobo)", b: "Toda a infraestrutura est√° garantida por aliena√ß√£o fiduci√°ria. Risco zero. (T√©cnico)", c: "Estamos criando um novo padr√£o de bairro. Voc√™ est√° no topo da pir√¢mide. (Exclusividade)" },
  { keys: ["tamanho", "pequeno"], a: "N√£o √© o tamanho do lote, √© o que voc√™ constr√≥i e quanto valoriza por m¬≤. (Lobo)", b: "Lotes menores t√™m maior liquidez. √â muito mais f√°cil vender ou alugar depois. (Estrat√©gia)", c: "O projeto prioriza √°reas de conviv√™ncia premium, n√£o apenas terra bruta. (Estilo de Vida)" },
  { keys: ["condom√≠nio", "taxa"], a: "A taxa √© o seguro do seu patrim√¥nio. Prefere um bairro aberto que desvaloriza? (Lobo)", b: "O que voc√™ paga de condom√≠nio, ganha em seguran√ßa e lazer para sua fam√≠lia. (Custo-Benef√≠cio)", c: "Um im√≥vel em condom√≠nio valoriza 30% mais r√°pido que um de rua. (Investimento)" },
  { keys: ["entrada", "alta"], a: "A entrada √© o que garante que o saldo devedor n√£o te sufoque. √â prote√ß√£o para voc√™. (Lobo)", b: "Podemos parcelar a entrada? Se eu conseguir, fechamos o neg√≥cio agora? (Fechamento Condicional)", c: "Quanto maior a entrada, menor o custo total do seu terreno. Pense no longo prazo. (L√≥gica)" },
  { keys: ["dinheiro", "aplicado"], a: "Sua aplica√ß√£o rende 10%? O im√≥vel aqui rende 20% mais infla√ß√£o. A conta √© simples. (Lobo)", b: "Diversifique. N√£o coloque todos os ovos no mesmo cesto, especialmente se o cesto for o banco. (Investidor)", c: "Tire do papel e coloque na terra. Papel queima, terra permanece. (Seguran√ßa)" },
  { keys: ["consultar", "advogado"], a: "Traga ele. Se ele for bom, vai te mandar comprar dois lotes. (Lobo)", b: "Toda a documenta√ß√£o √© p√∫blica. Temos transpar√™ncia total. (Confian√ßa)", c: "Aprova√ß√£o da prefeitura e RI est√£o √† sua disposi√ß√£o. Nada a esconder. (Legalidade)" },
  { keys: ["preciso", "vender", "outro"], a: "Eu te ajudo a vender. Mas garanta este aqui antes que mude a tabela. (Lobo)", b: "N√£o espere vender para comprar, o mercado sobe mais r√°pido que sua venda. (Urg√™ncia)", c: "Fazemos um plano de pagamento que espera a sua venda acontecer. (Flexibilidade)" },
  { keys: ["desemprego", "instabilidade"], a: "Por isso voc√™ precisa de patrim√¥nio. Im√≥vel √© o seu bote salva-vidas. (Lobo)", b: "O plano √© flex√≠vel. Se algo mudar, o lote √© seu e voc√™ pode revender com lucro. (Liquidez)", c: "Seguran√ßa financeira se constr√≥i na incerteza. Quem tem terra, tem tudo. (Sobreviv√™ncia)" },
  { keys: ["conhe√ßo", "empresa"], a: "Prazer, somos l√≠deres no setor. Pergunte para qualquer dono de imobili√°ria sobre n√≥s. (Lobo)", b: "Nossos n√∫meros falam por n√≥s: milhares de lotes entregues e clientes lucrando. (Autoridade)", c: "Visite nossas obras prontas. A qualidade √© o nosso cart√£o de visitas. (Prova Real)" },

  // 21-30: Localiza√ß√£o e Futuro
  { keys: ["vizinho", "vizinhan√ßa"], a: "Voc√™ n√£o compra s√≥ terra, compra os vizinhos. Aqui o padr√£o √© garantido. (Lobo)", b: "O perfil dos compradores aqui √© de alto n√≠vel. Networking puro. (Exclusividade)", c: "Condom√≠nio fechado filtra quem valoriza a paz e a seguran√ßa. (Ambiente)" },
  { keys: ["com√©rcio", "servi√ßo"], a: "Onde tem gente morando, o com√©rcio nasce em volta. Voc√™ est√° chegando antes da valoriza√ß√£o. (Lobo)", b: "Temos √°reas comerciais previstas no masterplan. Conveni√™ncia total. (Planejamento)", c: "A 5 minutos do centro, mas com o sil√™ncio do campo. O melhor dos dois mundos. (Conforto)" },
  { keys: ["barulho", "rodovia"], a: "Acesso f√°cil valoriza. O isolamento ac√∫stico natural do projeto resolve o resto. (Lobo)", b: "Estar perto da rodovia significa que voc√™ chega r√°pido em qualquer lugar. (Mobilidade)", c: "Os lotes mais valorizados do mundo est√£o perto de eixos de transporte. (Fato Econ√¥mico)" },
  { keys: ["seguran√ßa", "assalto"], a: "Muros, c√¢meras e ronda 24h. Onde voc√™ estaria mais seguro que aqui? (Lobo)", b: "Investimos pesado em tecnologia de monitoramento. Sua fam√≠lia merece isso. (Paz)", c: "√â um bunker de luxo. Seguran√ßa √© o nosso primeiro item da lista. (Prioridade)" },
  { keys: ["lazer", "clube"], a: "Voc√™ vai ter um resort no quintal de casa sem precisar viajar. (Lobo)", b: "O lazer aqui valoriza o lote mais que a pr√≥pria constru√ß√£o da casa. (Ativo)", c: "Piscina, academia, quadras... sua sa√∫de e divers√£o sem custo extra de deslocamento. (Sa√∫de)" },
  { keys: ["valoriza√ß√£o", "baixa"], a: "Olhe em volta. Onde a cidade cresce? Para c√°. A matem√°tica n√£o mente. (Lobo)", b: "Historicamente, esta regi√£o subiu 15% acima da infla√ß√£o nos √∫ltimos 5 anos. (Dados)", c: "O pre√ßo de pr√©-lan√ßamento √© o lucro certo de quem compra agora. (Oportunidade)" },
  { keys: ["planta", "projeto"], a: "Na planta voc√™ compra com desconto. Pronto, voc√™ paga o pre√ßo de mercado. (Lobo)", b: "Participar do nascimento do projeto te d√° as melhores escolhas de lote. (Privil√©gio)", c: "Personalize sua vis√£o. Construa exatamente o que sempre sonhou. (Sonho)" },
  { keys: ["regras", "constru√ß√£o"], a: "As regras protegem sua casa da casa feia do vizinho. Valoriza√ß√£o garantida. (Lobo)", b: "O padr√£o construtivo mant√©m o n√≠vel do condom√≠nio sempre alto. (Patrim√¥nio)", c: "Harmonia visual gera valor de revenda muito superior a bairros abertos. (Est√©tica)" },
  { keys: ["investimento", "curto", "prazo"], a: "Terra √© para quem quer ficar rico com seguran√ßa, n√£o para apostadores. (Lobo)", b: "Em 24 meses voc√™ ter√° um ativo que vale 40% mais. Qual banco faz isso? (Compara√ß√£o)", c: "Im√≥vel √© o investimento mais s√≥lido para criar riqueza geracional. (Legado)" },
  { keys: ["liquidez", "dif√≠cil", "vender"], a: "Lote bom vende em uma semana. Lote ruim nunca vende. Este aqui √© excelente. (Lobo)", b: "Temos fila de espera em projetos anteriores. A demanda aqui √© reprimida. (Demanda)", c: "Nossa imobili√°ria ajuda na revenda se voc√™ precisar de caixa r√°pido. (Parceria)" },

  // 31-40: Perfil do Cliente e Psicol√≥gico
  { keys: ["muito", "caro", "lote"], a: "Caro √© n√£o ter onde morar ou ver seu dinheiro sumir na infla√ß√£o. (Lobo)", b: "Voc√™ trabalha muito duro para n√£o ter o melhor para sua fam√≠lia. (Merecimento)", c: "O valor se dissolve na qualidade de vida que voc√™ ter√° aqui. (Bem-estar)" },
  { keys: ["vou", "perder", "dinheiro"], a: "Voc√™ perde dinheiro todo dia que deixa de investir em ativos reais. (Lobo)", b: "Ningu√©m nunca ficou pobre comprando terra bem localizada. (Hist√≥ria)", c: "Eu n√£o estaria aqui se n√£o acreditasse nos n√∫meros. Meu nome vale mais que esta venda. (√âtica)" },
  { keys: ["cr√©dito", "banco", "negado"], a: "N√≥s financiamos direto. Sem burocracia banc√°ria, direto com a gente. (Lobo)", b: "Aprovamos seu cadastro internamente com as garantias do pr√≥prio lote. (Solu√ß√£o)", c: "Comece agora, limpe seu nome depois. O terreno j√° vai estar valorizando. (Apoio)" },
  { keys: ["n√£o", "gostei", "corretor"], a: "N√£o compre de mim, compre do projeto. Eu sou apenas o mensageiro do seu lucro. (Lobo)", b: "Pe√ßo desculpas se n√£o me expressei bem, mas os n√∫meros s√£o inquestion√°veis. (Humildade)", c: "Foque no seu benef√≠cio. Minha miss√£o √© te tornar um propriet√°rio satisfeito. (Foco)" },
  { keys: ["muitas", "op√ß√µes"], a: "Op√ß√µes demais geram paralisia. Esta √© a melhor escolha t√©cnica, ponto final. (Lobo)", b: "Eu j√° filtrei o mercado para voc√™. Este lote √© o 'fil√© mignon' do estoque. (Curadoria)", c: "Escolha o que te faz sorrir quando imagina o futuro. √â este aqui. (Intui√ß√£o)" },
  { keys: ["parcela", "longa"], a: "Melhor pagar 120 meses e ser dono do que pagar 120 meses de aluguel e n√£o ter nada. (Lobo)", b: "Voc√™ pode antecipar parcelas de tr√°s para frente com desconto absurdo. (Estrat√©gia)", c: "A infla√ß√£o vai deixar essa parcela r√≠d√≠cula daqui a 3 anos. O tempo joga a seu favor. (L√≥gica)" },
  { keys: ["n√£o", "conhe√ßo", "regi√£o"], a: "Por isso voc√™ deve comprar. Quem chega primeiro bebe √°gua limpa. (Lobo)", b: "Vou te levar para dar uma volta e te mostrar o potencial de crescimento. (Experi√™ncia)", c: "A prefeitura est√° investindo R$ 10 milh√µes em asfalto e acesso aqui do lado. (Informa√ß√£o)" },
  { keys: ["estou", "sem", "tempo"], a: "Quem n√£o tem tempo para cuidar do dinheiro, trabalha para quem tem. (Lobo)", b: "Assinatura digital. Resolvemos tudo em 5 minutos pelo celular. (Praticidade)", c: "Eu cuido de toda a burocracia para voc√™. S√≥ assine e lucre. (Servi√ßo)" },
  { keys: ["outra", "prioridade"], a: "Qual prioridade √© maior que a seguran√ßa da sua fam√≠lia e seu futuro? (Lobo)", b: "Terra √© a base para todas as outras prioridades da vida. (Fundamento)", c: "Fa√ßa o investimento agora e use o lucro para suas outras prioridades depois. (Intelig√™ncia)" },
  { keys: ["acho", "vai", "cair"], a: "O pre√ßo dos im√≥veis nunca caiu no Brasil em 50 anos. Vai esperar o imposs√≠vel? (Lobo)", b: "Custo de material de constru√ß√£o s√≥ sobe. O pre√ßo do lote acompanha. (Fato)", c: "Esperar queda √© estrat√©gia de quem perde o bonde da hist√≥ria. (Realidade)" },

  // 41-50: Fechamento Final
  { keys: ["n√£o", "tenho", "certeza"], a: "Certeza vem da a√ß√£o. Quem fica parado s√≥ tem d√∫vida e arrependimento. (Lobo)", b: "Se 80% do que eu disse faz sentido, os outros 20% voc√™ resolve no caminho. (Venda)", c: "Confie na sua jornada at√© aqui. Voc√™ sabe que este √© um bom neg√≥cio. (Valida√ß√£o)" },
  { keys: ["quero", "mais", "prazo"], a: "Prazo eu tenho, o que eu n√£o tenho √© mais lotes nessa tabela de pre√ßos. (Lobo)", b: "Consigo esticar o prazo, mas a entrada precisa ser √† vista. Aceita? (Troca)", c: "Vamos montar um fluxo que n√£o aperte seu caixa mensal. (Personaliza√ß√£o)" },
  { keys: ["posso", "perder", "emprego"], a: "Se perder, voc√™ tem um terreno quitado ou valorizado para vender e se sustentar. (Lobo)", b: "O lote √© um seguro-desemprego em forma de terra. (Seguran√ßa)", c: "Temos seguro prestamista que garante as parcelas em caso de imprevistos. (Prote√ß√£o)" },
  { keys: ["muito", "longe", "entrega"], a: "O tempo voa. Quando voc√™ piscar, est√° inaugurando a piscina. (Lobo)", b: "A valoriza√ß√£o de quem compra no in√≠cio √© o dobro de quem compra no fim. (Lucro)", c: "Acompanhe cada etapa pelo nosso app. O prazer est√° na constru√ß√£o. (Jornada)" },
  { keys: ["taxa", "venda"], a: "Nossa taxa de corretagem √© padr√£o, nosso servi√ßo √© excepcional. (Lobo)", b: "Voc√™ n√£o paga comiss√£o, voc√™ investe em uma consultoria de sucesso. (Vis√£o)", c: "O custo de um profissional ruim √© muito maior que a comiss√£o de um bom. (Qualidade)" },
  { keys: ["itbi", "escritura"], a: "Isso √© investimento, n√£o gasto. Faz parte da legaliza√ß√£o do seu imp√©rio. (Lobo)", b: "Podemos parcelar os custos de transfer√™ncia junto com o lote. (Facilidade)", c: "Documento em dia √© o que faz seu lote valer mais na hora da venda. (Valoriza√ß√£o)" },
  { keys: ["fam√≠lia", "grande"], a: "Por isso voc√™ precisa de um lote amplo e um condom√≠nio com lazer completo. (Lobo)", b: "Crie mem√≥rias que seus filhos levar√£o para sempre. Espa√ßo n√£o falta. (Emocional)", c: "Este √© o lugar onde seus netos v√£o passar as f√©rias. Pense no legado. (Futuro)" },
  { keys: ["sou", "solteiro"], a: "Lote √© o melhor ativo para um jovem construir patrim√¥nio antes de casar. (Lobo)", b: "Im√≥vel √© o maior im√£ de estabilidade e sucesso que voc√™ pode ter. (Status)", c: "Liquidez f√°cil para quando voc√™ decidir mudar de vida ou de cidade. (Liberdade)" },
  { keys: ["estou", "velho"], a: "Terra n√£o tem idade. √â o melhor rendimento para sua aposentadoria. (Lobo)", b: "Deixe um patrim√¥nio s√≥lido para seus herdeiros n√£o passarem dificuldade. (Generosidade)", c: "Viva com o conforto e a seguran√ßa que voc√™ trabalhou a vida toda para ter. (Merecimento)" },
  { keys: ["√∫ltima", "unidade"], a: "Se voc√™ n√£o assinar agora, o pr√≥ximo da fila vai. E ele vai lucrar no seu lugar. (Lobo)", b: "O cavalo selado n√£o passa duas vezes. Monte ou fique a p√©. (Urg√™ncia)", c: "√â o √∫ltimo com essa vista e esse pre√ßo. A decis√£o √© sua, o lucro tamb√©m. (Fechamento)" }
]
  };
</script>

<script>
let chart;

// BUSCA DE TAXAS REAIS (API BANCO CENTRAL)
async function updateEcoRates() {
    try {
        const fetchRate = async (id) => {
            const r = await fetch(`https://api.bcb.gov.br/dados/serie/bcdata.sgs.${id}/dados/ultimos/1?formato=json`);
            const d = await r.json();
            return d[0].valor;
        };
        document.getElementById('val-selic').innerText = await fetchRate(11) + '%'; // Selic
        document.getElementById('val-ipca').innerText = await fetchRate(433) + '%'; // IPCA
        document.getElementById('val-igpm').innerText = await fetchRate(189) + '%'; // IGP-M
    } catch (e) {
        console.log("Erro ao buscar taxas, usando padr√£o.");
        document.getElementById('val-selic').innerText = '11.25%';
    }
}

function startTime() {
  document.getElementById('live-clock').innerHTML = new Date().toLocaleTimeString('pt-BR');
  setTimeout(startTime, 1000);
}

function initApp() {
  const user = base.users.find(x => x.login === document.getElementById("lUser").value && x.pass === document.getElementById("lPass").value);
  if(user) {
    document.getElementById("loginArea").style.display = "none";
    document.getElementById("appMain").style.opacity = "1";
    document.getElementById("appMain").style.pointerEvents = "all";
    document.getElementById("userTools").style.display = "flex";
    document.getElementById("userBadge").innerText = user.role.toUpperCase();
    if(user.role !== 'admin') document.getElementById("btnAdmin").style.display = 'none';
    initChart();
    renderLists();
  }
}

document.getElementById("mainInput").addEventListener("input", function() {
  const text = this.value.toLowerCase();
  const p = base.products.find(item => item.keys.some(k => text.includes(k.trim().toLowerCase())));
  if(p) {
    document.getElementById("view-name").innerText = p.name;
    let html = p.info.filter(i => i.trim() !== "").map(i => `<div class="info-item"><span>${i}</span></div>`).join("");
    html += `<div class="info-item"><strong>Valor Hoje:</strong> <span>R$ ${p.baseVal.toLocaleString()}</span></div>`;
    html += `<div class="info-item"><strong>Valoriza√ß√£o:</strong> <span>${p.rate}% a.a.</span></div>`;
    document.getElementById("view-details").innerHTML = html;
    const loss = p.baseVal * (p.rate / 100);
    document.getElementById("view-loss").innerText = `R$ ${loss.toLocaleString('pt-BR', {minimumFractionDigits: 2})}`;
    updateChart(p.baseVal, p.rate);
  }
  const o = base.objections.find(item => item.keys.some(k => text.includes(k.trim().toLowerCase())));
  if(o) {
    document.getElementById("res-box").innerHTML = `<b>Leve:</b> ${o.a}<br><br><b>Forte:</b> ${o.b}<br><br><b>Fechamento:</b> ${o.c}`;
  }
});

function saveData(type) {
    if(type === 'users') {
        base.users.push({ login: document.getElementById("fUserLogin").value, pass: document.getElementById("fUserPass").value, role: document.getElementById("fUserRole").value });
    } else if(type === 'products') {
        base.products.push({ 
            name: document.getElementById("fProdName").value.toUpperCase(),
            keys: document.getElementById("fProdKeys").value.split(",").map(k => k.trim()),
            baseVal: Number(document.getElementById("fProdVal").value),
            rate: Number(document.getElementById("fProdRate").value),
            info: document.getElementById("fProdInfo").value.split("\n")
        });
    } else if(type === 'objections') {
        base.objections.push({
            keys: document.getElementById("fObjKeys").value.split(",").map(k => k.trim()),
            a: document.getElementById("fObjA").value, b: document.getElementById("fObjB").value, c: document.getElementById("fObjC").value
        });
    }
    renderLists();
}

function removeData(type, index) { base[type].splice(index, 1); renderLists(); }

function renderLists() {
    document.getElementById("list-users").innerHTML = base.users.map((u, i) => `<div class="data-row">${u.login} <button class="btn-danger" onclick="removeData('users', ${i})">X</button></div>`).join("");
    document.getElementById("list-products").innerHTML = base.products.map((p, i) => `<div class="data-row">${p.name} <button class="btn-danger" onclick="removeData('products', ${i})">X</button></div>`).join("");
    document.getElementById("list-objections").innerHTML = base.objections.map((o, i) => `<div class="data-row">${o.keys[0]} <button class="btn-danger" onclick="removeData('objections', ${i})">X</button></div>`).join("");
}

function copyFullCode() {
  const scriptDb = document.getElementById("databaseScript");
  scriptDb.innerHTML = `\n  let base = ${JSON.stringify(base, null, 2)};\n`;
  navigator.clipboard.writeText("<!DOCTYPE html>\n" + document.documentElement.outerHTML);
  alert("C√ìDIGO OFICIAL COPIADO!");
}

function initChart() {
  const ctx = document.getElementById('mainChart').getContext('2d');
  chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Hoje', 'Ano 1', 'Ano 2', 'Ano 3'],
      datasets: [{ label: 'Patrim√¥nio', data: [0,0,0,0], borderColor: '#2563eb', fill: true, backgroundColor: 'rgba(37,99,235,0.1)' }]
    }
  });
}

function updateChart(v, r) {
  let data = [v];
  for(let i=1; i<=3; i++) { v *= (1+(r/100)); data.push(Math.round(v)); }
  chart.data.datasets[0].data = data;
  chart.update();
}

function showTab(id, btn) {
    document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(id).style.display = 'block';
    btn.classList.add('active');
}

function openAdmin() { document.getElementById("adminDrawer").classList.add("show"); }
function closeAdmin() { document.getElementById("adminDrawer").classList.remove("show"); }

let rec;
if(window.webkitSpeechRecognition) {
  rec = new webkitSpeechRecognition();
  rec.lang = 'pt-BR'; rec.continuous = true;
  rec.onresult = (e) => {
    document.getElementById("mainInput").value += " " + e.results[e.results.length-1][0].transcript;
    document.getElementById("mainInput").dispatchEvent(new Event('input'));
  };
}
function toggleMic() { 
  const b = document.getElementById("micBtn");
  if(b.innerText.includes("Capturar")) { rec.start(); b.innerText = "üõë PARAR"; b.style.background = "red"; }
  else { rec.stop(); b.innerText = "üéôÔ∏è Capturar Voz"; b.style.background = "var(--primary)"; }
}
</script>
</body>
</html>







