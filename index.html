<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>COPILOTO PRO v9.0 ‚Äî Busca Inteligente</title>
    <style>
        :root {
            --bg: #f8fafc; --panel: #ffffff; --text: #0f172a; --muted: #64748b;
            --border: #e2e8f0; --primary: #1e40af; --accent: #7c3aed;
            --good: #10b981; --warn: #f59e0b; --bad: #ef4444; --radius: 12px;
        }

        * { box-sizing: border-box; font-family: 'Inter', system-ui, sans-serif; }
        body { margin: 0; background: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        header {
            background: #fff; padding: 10px 20px; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center; gap: 20px;
        }

        /* BUSCADOR DE COMANDO */
        .search-container { flex: 1; position: relative; max-width: 500px; }
        #cmdSearch { width: 100%; padding: 10px 15px 10px 40px; border-radius: 20px; border: 2px solid var(--border); outline: none; transition: 0.3s; font-size: 14px; }
        #cmdSearch:focus { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(30, 64, 175, 0.1); }
        .search-icon { position: absolute; left: 15px; top: 11px; font-size: 14px; color: var(--muted); }

        .top-tools { display: flex; gap: 8px; }
        .btn-tool { background: #fff; border: 1px solid var(--border); padding: 8px 12px; border-radius: 8px; font-size: 11px; font-weight: 700; cursor: pointer; display: flex; align-items: center; gap: 5px; }
        .btn-accent { background: var(--accent); color: #fff; border: none; }

        main { flex: 1; display: grid; grid-template-columns: 1fr 400px; gap: 20px; padding: 20px; overflow: hidden; }
        .card { background: #fff; border-radius: var(--radius); border: 1px solid var(--border); box-shadow: 0 4px 6px rgba(0,0,0,0.05); display: flex; flex-direction: column; overflow: hidden; }
        textarea { width: 100%; flex: 1; border: none; padding: 20px; font-size: 18px; line-height: 1.6; outline: none; resize: none; }
        
        .side-panel { position: fixed; right: -500px; top: 0; width: 450px; height: 100%; background: #fff; z-index: 200; transition: 0.3s; box-shadow: -15px 0 35px rgba(0,0,0,0.1); padding: 30px; overflow-y: auto; }
        .side-panel.open { right: 0; }

        .highlight-action { animation: blink 1s infinite alternate; border: 2px solid var(--good) !important; }
        @keyframes blink { from { transform: scale(1); } to { transform: scale(1.05); } }

        .overlay { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.9); z-index: 300; display: flex; align-items: center; justify-content: center; }
        .login-box { background: #fff; padding: 30px; border-radius: 15px; width: 320px; text-align: center; }
    </style>
</head>
<body>

<div id="loginOverlay" class="overlay">
    <div class="login-box">
        <h2 style="color:var(--primary)">COPILOTO v9.0</h2>
        <input type="text" id="u" placeholder="Usu√°rio" style="width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid var(--border)">
        <input type="password" id="p" placeholder="Senha" style="width:100%; padding:10px; margin-bottom:20px; border-radius:5px; border:1px solid var(--border)">
        <button onclick="login()" style="width:100%; background:var(--primary); color:#fff; border:none; padding:12px; border-radius:5px; cursor:pointer">Acessar</button>
    </div>
</div>

<header>
    <strong>üíé ELITE</strong>
    
    <div class="search-container">
        <span class="search-icon">üîç</span>
        <input type="text" id="cmdSearch" placeholder="Busque 'documenta√ß√£o', 'juros', 'roteiro'..." oninput="smartSearch(this.value)">
    </div>

    <div class="top-tools">
        <button id="btnScript" class="btn-tool btn-accent" onclick="togglePanel('scriptPanel', true)">üìñ Roteiro</button>
        <button id="btnIndices" class="btn-tool" onclick="togglePanel('indicesPanel', true)">üìà √çndices</button>
        <button id="btnDocs" class="btn-tool" onclick="togglePanel('legalPanel', true)">üìÑ Docs</button>
    </div>
</header>

<main>
    <div class="card">
        <textarea id="box" placeholder="Digite ou fale aqui... O sistema busca palavras-chave automaticamente." oninput="analyze(this.value)"></textarea>
        <div style="padding:10px; background:#f1f5f9; border-top:1px solid var(--border); font-size:12px">
            üìç <strong id="pNm">Sintonizando...</strong> | <span id="pInf">Diga o nome do produto</span>
        </div>
    </div>

    <div class="card">
        <div style="padding:15px; border-bottom:1px solid var(--border); font-weight:800; font-size:11px; color:var(--muted)">MENTORIA EM TEMPO REAL</div>
        <div id="respArea" style="padding:10px">
            <div style="padding:15px; background:#f8fafc; border-radius:8px; margin-bottom:10px">
                <small style="color:var(--primary); font-weight:800">SUGEST√ÉO:</small>
                <p id="r1" style="margin:5px 0 0 0; font-weight:600; font-size:15px">Aguardando intera√ß√£o...</p>
            </div>
            <div id="smartAction" style="display:none; padding:15px; background:#f0fdf4; border:1px solid #bbf7d0; border-radius:8px">
                <small style="color:var(--good); font-weight:800">A√á√ÉO R√ÅPIDA DETECTADA:</small>
                <p id="actionTxt" style="margin:5px 0 10px 0; font-size:13px"></p>
                <button id="actionBtn" style="width:100%; background:var(--good); color:#fff; border:none; padding:8px; border-radius:5px; cursor:pointer; font-weight:700"></button>
            </div>
        </div>
    </div>
</main>

<div id="legalPanel" class="side-panel">
    <h3>Documenta√ß√£o Necess√°ria</h3>
    <ul style="line-height:2">
        <li>RG e CPF</li>
        <li>Certid√£o Civil</li>
        <li>Comprovante de Endere√ßo</li>
        <li>3 Holerites / Imposto de Renda</li>
    </ul>
    <button onclick="copyDocList()" style="width:100%; padding:15px; background:var(--good); color:white; border:none; border-radius:8px; cursor:pointer">Copiar para WhatsApp</button>
    <button onclick="togglePanel('legalPanel', false)" style="width:100%; margin-top:10px; background:none; border:none; color:var(--muted)">Fechar</button>
</div>

<div id="indicesPanel" class="side-panel">
    <h3>√çndices em Tempo Real</h3>
    <div style="background:#f1f5f9; padding:15px; border-radius:10px; margin-bottom:10px">
        SELIC: <strong id="idxSelic">11.75%</strong> | IPCA: <strong id="idxIpca">4.62%</strong>
    </div>
    <p style="font-size:13px">"O reajuste pelo IPCA garante que seu saldo acompanhe a infla√ß√£o, mas a valoriza√ß√£o em Sinop √© de 18%. Seu ganho √© real!"</p>
    <button onclick="togglePanel('indicesPanel', false)" style="width:100%; padding:10px">Fechar</button>
</div>

<div id="scriptPanel" class="side-panel">
    <h3>Roteiro de Vendas</h3>
    <p><strong>Quebra Gelo:</strong> "Voc√™ j√° conhece a infraestrutura desta regi√£o de Sinop?"</p>
    <button onclick="togglePanel('scriptPanel', false)" style="width:100%; padding:10px">Fechar</button>
</div>

<script>
    const db = {
        indices: { ipca: "4.62%", selic: "11.75%" },
        keywords: [
            { keys: ["doc", "document", "papel", "requisito", "rg", "cpf"], action: "Abrir Painel de Documenta√ß√£o", panel: "legalPanel", hint: "O cliente quer saber o que precisa para fechar." },
            { keys: ["juro", "taxa", "ipca", "igpm", "corre√ß√£o", "selic"], action: "Mostrar √çndices Financeiros", panel: "indicesPanel", hint: "O cliente est√° preocupado com o custo do dinheiro." },
            { keys: ["script", "roteiro", "falar", "ajuda", "abertura"], action: "Ver Roteiro de Venda", panel: "scriptPanel", hint: "Use o roteiro de sondagem." }
        ]
    };

    function login() {
        if(document.getElementById('u').value === "admin") document.getElementById('loginOverlay').style.display = 'none';
    }

    // BUSCADOR INTELIGENTE NA BARRA SUPERIOR
    function smartSearch(val) {
        const v = val.toLowerCase();
        if(v.length < 2) return;

        const match = db.keywords.find(item => item.keys.some(k => v.includes(k)));
        
        if(match) {
            // Destaca o bot√£o correspondente
            resetHighlights();
            if(match.panel === "legalPanel") document.getElementById('btnDocs').classList.add('highlight-action');
            if(match.panel === "indicesPanel") document.getElementById('btnIndices').classList.add('highlight-action');
            if(match.panel === "scriptPanel") document.getElementById('btnScript').classList.add('highlight-action');
            
            // Sugere a a√ß√£o no painel lateral
            document.getElementById('smartAction').style.display = "block";
            document.getElementById('actionTxt').innerText = match.hint;
            document.getElementById('actionBtn').innerText = match.action;
            document.getElementById('actionBtn').onclick = () => { togglePanel(match.panel, true); document.getElementById('smartAction').style.display = "none"; };
        } else {
            document.getElementById('smartAction').style.display = "none";
            resetHighlights();
        }
    }

    // ANALISADOR AUTOM√ÅTICO NO TEXTO
    function analyze(t) {
        const low = t.toLowerCase();
        smartSearch(low); // Reaproveita a l√≥gica de busca
        if(low.includes("morada")) { document.getElementById('pNm').innerText = "Morada Brasil"; }
        if(low.includes("caro")) { document.getElementById('r1').innerText = "Use o argumento: 'Caro √© pagar aluguel e n√£o construir patrim√¥nio'."; }
    }

    function resetHighlights() {
        document.querySelectorAll('.btn-tool').forEach(b => b.classList.remove('highlight-action'));
    }

    function togglePanel(id, s) {
        document.getElementById(id).classList.toggle('open', s);
        resetHighlights();
    }

    function copyDocList() {
        navigator.clipboard.writeText("üìÑ Docs: RG, CPF, Certid√£o, Comprovante Resid√™ncia e 3 Holerites.");
        alert("Copiado!");
    }
</script>
</body>
</html>
